# Generated by Django 4.2.11 on 2025-09-21 04:21

from django.conf import settings
import django.core.validators
from django.db import migrations, models
import django.db.models.deletion
import django.utils.timezone


class Migration(migrations.Migration):

    initial = True

    dependencies = [
        ('fiscalizacao', '0001_initial'),
        migrations.swappable_dependency(settings.AUTH_USER_MODEL),
    ]

    operations = [
        migrations.CreateModel(
            name='BannerPortal',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('titulo', models.CharField(max_length=100, verbose_name='Título')),
                ('subtitulo', models.CharField(blank=True, max_length=200, verbose_name='Subtítulo')),
                ('texto', models.TextField(blank=True, verbose_name='Texto')),
                ('imagem', models.ImageField(upload_to='portal/banners/%Y/', verbose_name='Imagem')),
                ('link', models.URLField(blank=True, verbose_name='Link')),
                ('link_texto', models.CharField(blank=True, max_length=50, verbose_name='Texto do Link')),
                ('ativo', models.BooleanField(default=True, verbose_name='Ativo')),
                ('ordem', models.IntegerField(default=0, verbose_name='Ordem')),
                ('data_inicio', models.DateTimeField(default=django.utils.timezone.now, verbose_name='Data de Início')),
                ('data_fim', models.DateTimeField(blank=True, null=True, verbose_name='Data de Fim')),
                ('visualizacoes', models.IntegerField(default=0, verbose_name='Visualizações')),
                ('cliques', models.IntegerField(default=0, verbose_name='Cliques')),
                ('criado_em', models.DateTimeField(auto_now_add=True, verbose_name='Criado em')),
                ('atualizado_em', models.DateTimeField(auto_now=True, verbose_name='Atualizado em')),
            ],
            options={
                'verbose_name': 'Banner do Portal',
                'verbose_name_plural': 'Banners do Portal',
                'ordering': ['ordem', '-data_inicio'],
            },
        ),
        migrations.CreateModel(
            name='CategoriaConteudo',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('nome', models.CharField(max_length=100, verbose_name='Nome')),
                ('descricao', models.TextField(blank=True, verbose_name='Descrição')),
                ('icone', models.CharField(blank=True, help_text='Classe CSS do ícone', max_length=50, verbose_name='Ícone')),
                ('cor', models.CharField(default='#007bff', help_text='Código hexadecimal da cor', max_length=7, verbose_name='Cor')),
                ('ordem', models.IntegerField(default=0, verbose_name='Ordem')),
                ('ativo', models.BooleanField(default=True, verbose_name='Ativo')),
                ('criado_em', models.DateTimeField(auto_now_add=True, verbose_name='Criado em')),
                ('atualizado_em', models.DateTimeField(auto_now=True, verbose_name='Atualizado em')),
            ],
            options={
                'verbose_name': 'Categoria de Conteúdo',
                'verbose_name_plural': 'Categorias de Conteúdo',
                'ordering': ['ordem', 'nome'],
            },
        ),
        migrations.CreateModel(
            name='ConfiguracaoPortal',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('nome_instituicao', models.CharField(default='PROCON', max_length=200, verbose_name='Nome da Instituição')),
                ('endereco', models.TextField(verbose_name='Endereço')),
                ('telefone', models.CharField(max_length=20, verbose_name='Telefone')),
                ('email', models.EmailField(max_length=254, verbose_name='E-mail')),
                ('site', models.URLField(blank=True, verbose_name='Site')),
                ('horario_funcionamento', models.TextField(verbose_name='Horário de Funcionamento')),
                ('facebook', models.URLField(blank=True, verbose_name='Facebook')),
                ('instagram', models.URLField(blank=True, verbose_name='Instagram')),
                ('twitter', models.URLField(blank=True, verbose_name='Twitter')),
                ('youtube', models.URLField(blank=True, verbose_name='YouTube')),
                ('manutencao', models.BooleanField(default=False, verbose_name='Portal em Manutenção')),
                ('mensagem_manutencao', models.TextField(blank=True, verbose_name='Mensagem de Manutenção')),
                ('sobre_instituicao', models.TextField(verbose_name='Sobre a Instituição')),
                ('missao', models.TextField(blank=True, verbose_name='Missão')),
                ('visao', models.TextField(blank=True, verbose_name='Visão')),
                ('valores', models.TextField(blank=True, verbose_name='Valores')),
                ('permitir_consulta_publica', models.BooleanField(default=True, verbose_name='Permitir Consulta Pública')),
                ('exigir_captcha', models.BooleanField(default=True, verbose_name='Exigir CAPTCHA')),
                ('permitir_avaliacao', models.BooleanField(default=True, verbose_name='Permitir Avaliação de Serviços')),
                ('google_analytics_id', models.CharField(blank=True, max_length=20, verbose_name='Google Analytics ID')),
            ],
            options={
                'verbose_name': 'Configuração do Portal',
                'verbose_name_plural': 'Configurações do Portal',
            },
        ),
        migrations.CreateModel(
            name='FormularioPublico',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('nome', models.CharField(max_length=200, verbose_name='Nome')),
                ('descricao', models.TextField(verbose_name='Descrição')),
                ('categoria', models.CharField(choices=[('DENUNCIA', 'Denúncia'), ('RECLAMACAO', 'Reclamação'), ('SOLICITACAO', 'Solicitação'), ('ORIENTACAO', 'Orientação'), ('CADASTRO', 'Cadastro'), ('OUTROS', 'Outros')], max_length=15, verbose_name='Categoria')),
                ('arquivo', models.FileField(upload_to='portal/formularios/%Y/', verbose_name='Arquivo')),
                ('versao', models.CharField(default='1.0', max_length=10, verbose_name='Versão')),
                ('tamanho_bytes', models.BigIntegerField(default=0, verbose_name='Tamanho (bytes)')),
                ('destaque', models.BooleanField(default=False, verbose_name='Destaque')),
                ('ativo', models.BooleanField(default=True, verbose_name='Ativo')),
                ('ordem', models.IntegerField(default=0, verbose_name='Ordem')),
                ('instrucoes', models.TextField(blank=True, verbose_name='Instruções de Preenchimento')),
                ('downloads', models.IntegerField(default=0, verbose_name='Downloads')),
                ('criado_em', models.DateTimeField(auto_now_add=True, verbose_name='Criado em')),
                ('atualizado_em', models.DateTimeField(auto_now=True, verbose_name='Atualizado em')),
            ],
            options={
                'verbose_name': 'Formulário Público',
                'verbose_name_plural': 'Formulários Públicos',
                'ordering': ['-destaque', 'ordem', 'nome'],
            },
        ),
        migrations.CreateModel(
            name='EstatisticaPortal',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('data', models.DateField(verbose_name='Data')),
                ('visitas_unicas', models.IntegerField(default=0, verbose_name='Visitas Únicas')),
                ('pageviews', models.IntegerField(default=0, verbose_name='Visualizações de Página')),
                ('consultas_realizadas', models.IntegerField(default=0, verbose_name='Consultas Realizadas')),
                ('formularios_baixados', models.IntegerField(default=0, verbose_name='Formulários Baixados')),
                ('avaliacoes_recebidas', models.IntegerField(default=0, verbose_name='Avaliações Recebidas')),
                ('tempo_medio_sessao', models.IntegerField(default=0, verbose_name='Tempo Médio de Sessão (segundos)')),
            ],
            options={
                'verbose_name': 'Estatística do Portal',
                'verbose_name_plural': 'Estatísticas do Portal',
                'ordering': ['-data'],
                'unique_together': {('data',)},
            },
        ),
        migrations.CreateModel(
            name='ConsultaPublica',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('tipo_consulta', models.CharField(choices=[('PROTOCOLO', 'Protocolo'), ('PETICAO', 'Petição'), ('PROCESSO', 'Processo'), ('MULTA', 'Multa'), ('RECURSO', 'Recurso')], max_length=15, verbose_name='Tipo')),
                ('numero_protocolo', models.CharField(max_length=50, verbose_name='Número do Protocolo')),
                ('documento_consulta', models.CharField(max_length=20, verbose_name='CPF/CNPJ')),
                ('dados_encontrados', models.JSONField(default=dict, verbose_name='Dados Encontrados')),
                ('ip_origem', models.GenericIPAddressField(verbose_name='IP de Origem')),
                ('user_agent', models.TextField(blank=True, verbose_name='User Agent')),
                ('data_consulta', models.DateTimeField(auto_now_add=True, verbose_name='Data da Consulta')),
            ],
            options={
                'verbose_name': 'Consulta Pública',
                'verbose_name_plural': 'Consultas Públicas',
                'ordering': ['-data_consulta'],
                'indexes': [models.Index(fields=['numero_protocolo'], name='portal_cida_numero__0978f6_idx'), models.Index(fields=['documento_consulta'], name='portal_cida_documen_1a26f4_idx'), models.Index(fields=['data_consulta'], name='portal_cida_data_co_e1bea6_idx')],
            },
        ),
        migrations.CreateModel(
            name='AvaliacaoServico',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('tipo_servico', models.CharField(choices=[('ATENDIMENTO', 'Atendimento'), ('PORTAL', 'Portal Online'), ('PROCESSO', 'Tramitação de Processo'), ('ORIENTACAO', 'Orientação Recebida'), ('RESOLUCAO', 'Resolução do Problema'), ('GERAL', 'Avaliação Geral')], max_length=15, verbose_name='Tipo de Serviço')),
                ('nota', models.IntegerField(validators=[django.core.validators.MinValueValidator(1), django.core.validators.MaxValueValidator(5)], verbose_name='Nota')),
                ('comentario', models.TextField(blank=True, verbose_name='Comentário')),
                ('sugestao', models.TextField(blank=True, verbose_name='Sugestão de Melhoria')),
                ('nome', models.CharField(blank=True, max_length=200, verbose_name='Nome')),
                ('email', models.EmailField(blank=True, max_length=254, verbose_name='E-mail')),
                ('numero_protocolo', models.CharField(blank=True, max_length=50, verbose_name='Número do Protocolo')),
                ('ip_origem', models.GenericIPAddressField(verbose_name='IP de Origem')),
                ('data_avaliacao', models.DateTimeField(auto_now_add=True, verbose_name='Data da Avaliação')),
            ],
            options={
                'verbose_name': 'Avaliação de Serviço',
                'verbose_name_plural': 'Avaliações de Serviços',
                'ordering': ['-data_avaliacao'],
                'indexes': [models.Index(fields=['tipo_servico'], name='portal_cida_tipo_se_81ef8f_idx'), models.Index(fields=['nota'], name='portal_cida_nota_41be86_idx'), models.Index(fields=['data_avaliacao'], name='portal_cida_data_av_fbb931_idx')],
            },
        ),
        migrations.CreateModel(
            name='DenunciaCidadao',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('numero_denuncia', models.CharField(blank=True, max_length=20, unique=True, verbose_name='Número da Denúncia')),
                ('empresa_denunciada', models.CharField(max_length=255, verbose_name='Empresa Denunciada')),
                ('cnpj_empresa', models.CharField(blank=True, max_length=18, verbose_name='CNPJ da Empresa')),
                ('endereco_empresa', models.CharField(blank=True, max_length=500, verbose_name='Endereço da Empresa')),
                ('telefone_empresa', models.CharField(blank=True, max_length=20, verbose_name='Telefone da Empresa')),
                ('email_empresa', models.EmailField(blank=True, max_length=254, verbose_name='E-mail da Empresa')),
                ('descricao_fatos', models.TextField(verbose_name='Descrição dos Fatos')),
                ('data_ocorrencia', models.DateField(blank=True, null=True, verbose_name='Data da Ocorrência')),
                ('tipo_infracao', models.CharField(default='outros', max_length=100, verbose_name='Tipo de Infração')),
                ('nome_denunciante', models.CharField(blank=True, max_length=255, verbose_name='Nome do Denunciante')),
                ('cpf_cnpj', models.CharField(blank=True, max_length=20, verbose_name='CPF/CNPJ do Denunciante')),
                ('email', models.EmailField(blank=True, max_length=254, verbose_name='E-mail do Denunciante')),
                ('telefone', models.CharField(blank=True, max_length=20, verbose_name='Telefone do Denunciante')),
                ('denuncia_anonima', models.BooleanField(default=False, verbose_name='Denúncia Anônima')),
                ('motivo_anonimato', models.TextField(blank=True, verbose_name='Motivo do Anonimato')),
                ('status', models.CharField(choices=[('denuncia_recebida', 'Denúncia Recebida'), ('em_analise', 'Em Análise'), ('encaminhada_fiscal', 'Encaminhada para Fiscal'), ('auto_criado', 'Auto de Infração Criado'), ('arquivada', 'Arquivada')], default='denuncia_recebida', max_length=20, verbose_name='Status')),
                ('origem_denuncia', models.CharField(default='PORTAL_CIDADAO', max_length=20, verbose_name='Origem da Denúncia')),
                ('ip_origem', models.GenericIPAddressField(blank=True, null=True, verbose_name='IP de Origem')),
                ('user_agent', models.TextField(blank=True, verbose_name='User Agent')),
                ('criado_em', models.DateTimeField(auto_now_add=True, verbose_name='Criado em')),
                ('atualizado_em', models.DateTimeField(auto_now=True, verbose_name='Atualizado em')),
                ('auto_infracao', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='denuncias_cidadao', to='fiscalizacao.autoinfracao')),
            ],
            options={
                'verbose_name': 'Denúncia do Cidadão',
                'verbose_name_plural': 'Denúncias do Cidadão',
                'ordering': ['-criado_em'],
                'indexes': [models.Index(fields=['numero_denuncia'], name='portal_cida_numero__9e0f64_idx'), models.Index(fields=['status'], name='portal_cida_status_d2b389_idx'), models.Index(fields=['origem_denuncia'], name='portal_cida_origem__4d6c6c_idx'), models.Index(fields=['criado_em'], name='portal_cida_criado__fd96e5_idx')],
            },
        ),
        migrations.CreateModel(
            name='ConteudoPortal',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('tipo', models.CharField(choices=[('ARTIGO', 'Artigo'), ('FAQ', 'Pergunta Frequente'), ('TUTORIAL', 'Tutorial'), ('NOTICIA', 'Notícia'), ('LEGISLACAO', 'Legislação'), ('FORMULARIO', 'Formulário'), ('ORIENTACAO', 'Orientação'), ('ALERTA', 'Alerta')], max_length=15, verbose_name='Tipo')),
                ('titulo', models.CharField(max_length=200, verbose_name='Título')),
                ('subtitulo', models.CharField(blank=True, max_length=300, verbose_name='Subtítulo')),
                ('resumo', models.TextField(help_text='Texto breve para exibição em listas', verbose_name='Resumo')),
                ('conteudo', models.TextField(verbose_name='Conteúdo')),
                ('slug', models.SlugField(unique=True, verbose_name='Slug')),
                ('palavras_chave', models.CharField(blank=True, max_length=200, verbose_name='Palavras-chave')),
                ('meta_description', models.CharField(blank=True, max_length=160, verbose_name='Meta Description')),
                ('imagem_destaque', models.ImageField(blank=True, upload_to='portal/conteudo/%Y/%m/', verbose_name='Imagem de Destaque')),
                ('arquivo_anexo', models.FileField(blank=True, upload_to='portal/anexos/%Y/%m/', verbose_name='Arquivo Anexo')),
                ('destaque', models.BooleanField(default=False, verbose_name='Destaque na Home')),
                ('fixo', models.BooleanField(default=False, verbose_name='Conteúdo Fixo')),
                ('ativo', models.BooleanField(default=True, verbose_name='Ativo')),
                ('ordem', models.IntegerField(default=0, verbose_name='Ordem')),
                ('data_publicacao', models.DateTimeField(default=django.utils.timezone.now, verbose_name='Data de Publicação')),
                ('data_validade', models.DateTimeField(blank=True, null=True, verbose_name='Data de Validade')),
                ('autor_nome', models.CharField(blank=True, max_length=100, verbose_name='Nome do Autor')),
                ('visualizacoes', models.IntegerField(default=0, verbose_name='Visualizações')),
                ('downloads', models.IntegerField(default=0, verbose_name='Downloads')),
                ('criado_em', models.DateTimeField(auto_now_add=True, verbose_name='Criado em')),
                ('atualizado_em', models.DateTimeField(auto_now=True, verbose_name='Atualizado em')),
                ('autor', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to=settings.AUTH_USER_MODEL)),
                ('categoria', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='conteudos', to='portal_cidadao.categoriaconteudo')),
            ],
            options={
                'verbose_name': 'Conteúdo do Portal',
                'verbose_name_plural': 'Conteúdos do Portal',
                'ordering': ['-destaque', '-fixo', 'ordem', '-data_publicacao'],
                'indexes': [models.Index(fields=['categoria', 'tipo'], name='portal_cida_categor_f0f813_idx'), models.Index(fields=['slug'], name='portal_cida_slug_4df261_idx'), models.Index(fields=['destaque'], name='portal_cida_destaqu_90aa59_idx'), models.Index(fields=['ativo'], name='portal_cida_ativo_859a60_idx'), models.Index(fields=['data_publicacao'], name='portal_cida_data_pu_21e17f_idx')],
            },
        ),
    ]
