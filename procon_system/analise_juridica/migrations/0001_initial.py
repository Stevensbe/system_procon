# Generated by Django 4.2.11 on 2025-09-21 04:21

from django.conf import settings
from django.db import migrations, models
import django.db.models.deletion
import uuid


class Migration(migrations.Migration):

    initial = True

    dependencies = [
        migrations.swappable_dependency(settings.AUTH_USER_MODEL),
    ]

    operations = [
        migrations.CreateModel(
            name='AnaliseJuridica',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('numero_analise', models.CharField(blank=True, max_length=50, unique=True, verbose_name='Número da Análise')),
                ('uuid', models.UUIDField(default=uuid.uuid4, editable=False, unique=True, verbose_name='UUID')),
                ('tipo_processo', models.CharField(choices=[('AUTO_INFRACAO', 'Auto de Infração'), ('PETICAO', 'Petição'), ('PROTOCOLO', 'Protocolo'), ('RECURSO', 'Recurso'), ('DEFESA', 'Defesa'), ('OUTROS', 'Outros')], max_length=20, verbose_name='Tipo de Processo')),
                ('numero_processo', models.CharField(max_length=100, verbose_name='Número do Processo')),
                ('processo_fiscalizacao_id', models.IntegerField(blank=True, null=True, verbose_name='ID Processo Fiscalização')),
                ('peticao_id', models.IntegerField(blank=True, null=True, verbose_name='ID Petição')),
                ('protocolo_id', models.IntegerField(blank=True, null=True, verbose_name='ID Protocolo')),
                ('assunto', models.CharField(max_length=300, verbose_name='Assunto')),
                ('resumo_fatos', models.TextField(verbose_name='Resumo dos Fatos')),
                ('questoes_juridicas', models.TextField(verbose_name='Questões Jurídicas Identificadas')),
                ('status', models.CharField(choices=[('PENDENTE', 'Pendente de Análise'), ('EM_ANALISE', 'Em Análise'), ('PARECER_ELABORADO', 'Parecer Elaborado'), ('REVISAO', 'Em Revisão'), ('AGUARDANDO_DECISAO', 'Aguardando Decisão'), ('DECIDIDO', 'Decidido'), ('FINALIZADO', 'Finalizado'), ('ARQUIVADO', 'Arquivado')], default='PENDENTE', max_length=20, verbose_name='Status')),
                ('complexidade', models.CharField(choices=[('BAIXA', 'Baixa'), ('MEDIA', 'Média'), ('ALTA', 'Alta'), ('MUITO_ALTA', 'Muito Alta')], default='MEDIA', max_length=15, verbose_name='Complexidade')),
                ('prioridade', models.CharField(choices=[('BAIXA', 'Baixa'), ('NORMAL', 'Normal'), ('ALTA', 'Alta'), ('URGENTE', 'Urgente')], default='NORMAL', max_length=10, verbose_name='Prioridade')),
                ('empresa_nome', models.CharField(blank=True, max_length=300, verbose_name='Nome da Empresa')),
                ('empresa_cnpj', models.CharField(blank=True, max_length=20, verbose_name='CNPJ')),
                ('empresa_endereco', models.TextField(blank=True, verbose_name='Endereço')),
                ('valor_multa_aplicada', models.DecimalField(blank=True, decimal_places=2, max_digits=12, null=True, verbose_name='Valor da Multa Aplicada (R$)')),
                ('valor_multa_final', models.DecimalField(blank=True, decimal_places=2, max_digits=12, null=True, verbose_name='Valor Final da Multa (R$)')),
                ('prazo_analise', models.DateTimeField(blank=True, null=True, verbose_name='Prazo para Análise')),
                ('prazo_decisao', models.DateTimeField(blank=True, null=True, verbose_name='Prazo para Decisão')),
                ('data_distribuicao', models.DateTimeField(auto_now_add=True, verbose_name='Data de Distribuição')),
                ('data_inicio_analise', models.DateTimeField(blank=True, null=True, verbose_name='Início da Análise')),
                ('data_conclusao_analise', models.DateTimeField(blank=True, null=True, verbose_name='Conclusão da Análise')),
                ('data_decisao', models.DateTimeField(blank=True, null=True, verbose_name='Data da Decisão')),
                ('data_finalizacao', models.DateTimeField(blank=True, null=True, verbose_name='Data de Finalização')),
                ('observacoes', models.TextField(blank=True, verbose_name='Observações Gerais')),
                ('observacoes_internas', models.TextField(blank=True, verbose_name='Observações Internas')),
                ('criado_em', models.DateTimeField(auto_now_add=True, verbose_name='Criado em')),
                ('atualizado_em', models.DateTimeField(auto_now=True, verbose_name='Atualizado em')),
                ('analista_responsavel', models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, related_name='analises_responsavel', to=settings.AUTH_USER_MODEL, verbose_name='Analista Responsável')),
                ('relator', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='analises_relatadas', to=settings.AUTH_USER_MODEL, verbose_name='Relator')),
                ('supervisor', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='analises_supervisionadas', to=settings.AUTH_USER_MODEL, verbose_name='Supervisor')),
            ],
            options={
                'verbose_name': 'Análise Jurídica',
                'verbose_name_plural': 'Análises Jurídicas',
                'ordering': ['-criado_em'],
            },
        ),
        migrations.CreateModel(
            name='ConfiguracaoAnalise',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('prazo_analise_dias', models.IntegerField(default=30, verbose_name='Prazo Padrão para Análise (dias)')),
                ('prazo_parecer_dias', models.IntegerField(default=15, verbose_name='Prazo para Elaboração de Parecer (dias)')),
                ('prazo_decisao_dias', models.IntegerField(default=10, verbose_name='Prazo para Decisão (dias)')),
                ('prazo_recurso_dias', models.IntegerField(default=10, verbose_name='Prazo para Recurso (dias)')),
                ('notificar_prazo_vencimento', models.BooleanField(default=True, verbose_name='Notificar Vencimento de Prazos')),
                ('dias_antecedencia_notificacao', models.IntegerField(default=3, verbose_name='Dias de Antecedência para Notificação')),
                ('tamanho_maximo_documento_mb', models.IntegerField(default=20, verbose_name='Tamanho Máximo de Documento (MB)')),
                ('tipos_arquivo_permitidos', models.TextField(default='pdf,doc,docx,jpg,jpeg,png,txt', help_text='Separados por vírgula', verbose_name='Tipos de Arquivo Permitidos')),
                ('exigir_revisao_parecer', models.BooleanField(default=True, verbose_name='Exigir Revisão de Parecer')),
                ('exigir_aprovacao_supervisor', models.BooleanField(default=True, verbose_name='Exigir Aprovação do Supervisor')),
                ('template_parecer', models.TextField(blank=True, verbose_name='Template de Parecer')),
                ('template_decisao', models.TextField(blank=True, verbose_name='Template de Decisão')),
                ('email_coordenacao', models.EmailField(blank=True, max_length=254, verbose_name='E-mail da Coordenação')),
                ('email_supervisao', models.EmailField(blank=True, max_length=254, verbose_name='E-mail da Supervisão')),
            ],
            options={
                'verbose_name': 'Configuração da Análise Jurídica',
                'verbose_name_plural': 'Configurações da Análise Jurídica',
            },
        ),
        migrations.CreateModel(
            name='DecisaoAdministrativa',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('numero_decisao', models.CharField(blank=True, max_length=50, unique=True, verbose_name='Número da Decisão')),
                ('tipo_decisao', models.CharField(choices=[('PROCEDENCIA', 'Procedência'), ('IMPROCEDENCIA', 'Improcedência'), ('PROCEDENCIA_PARCIAL', 'Procedência Parcial'), ('ARQUIVAMENTO', 'Arquivamento'), ('ENCAMINHAMENTO', 'Encaminhamento'), ('CONVERSAO_MULTA', 'Conversão de Multa'), ('REDUCAO_MULTA', 'Redução de Multa'), ('MANUTENCAO_MULTA', 'Manutenção de Multa')], max_length=25, verbose_name='Tipo de Decisão')),
                ('titulo', models.CharField(max_length=300, verbose_name='Título')),
                ('ementa', models.TextField(verbose_name='Ementa')),
                ('relatorio', models.TextField(verbose_name='Relatório')),
                ('fundamentacao', models.TextField(verbose_name='Fundamentação')),
                ('dispositivo', models.TextField(verbose_name='Dispositivo')),
                ('valor_multa_decidido', models.DecimalField(blank=True, decimal_places=2, max_digits=12, null=True, verbose_name='Valor da Multa Decidido (R$)')),
                ('percentual_reducao', models.DecimalField(blank=True, decimal_places=2, max_digits=5, null=True, verbose_name='Percentual de Redução (%)')),
                ('prazo_cumprimento_dias', models.IntegerField(blank=True, null=True, verbose_name='Prazo para Cumprimento (dias)')),
                ('prazo_recurso_dias', models.IntegerField(default=10, verbose_name='Prazo para Recurso (dias)')),
                ('cargo_julgador', models.CharField(max_length=100, verbose_name='Cargo do Julgador')),
                ('data_julgamento', models.DateTimeField(auto_now_add=True, verbose_name='Data do Julgamento')),
                ('data_publicacao', models.DateTimeField(blank=True, null=True, verbose_name='Data de Publicação')),
                ('data_transito_julgado', models.DateTimeField(blank=True, null=True, verbose_name='Data do Trânsito em Julgado')),
                ('permite_recurso', models.BooleanField(default=True, verbose_name='Permite Recurso')),
                ('recurso_apresentado', models.BooleanField(default=False, verbose_name='Recurso Apresentado')),
                ('data_recurso', models.DateTimeField(blank=True, null=True, verbose_name='Data do Recurso')),
                ('cumprida', models.BooleanField(default=False, verbose_name='Decisão Cumprida')),
                ('data_cumprimento', models.DateTimeField(blank=True, null=True, verbose_name='Data do Cumprimento')),
                ('forma_cumprimento', models.TextField(blank=True, verbose_name='Forma de Cumprimento')),
                ('arquivo_decisao', models.FileField(blank=True, upload_to='analise_juridica/decisoes/%Y/%m/', verbose_name='Arquivo da Decisão')),
                ('notificado_interessado', models.BooleanField(default=False, verbose_name='Interessado Notificado')),
                ('data_notificacao', models.DateTimeField(blank=True, null=True, verbose_name='Data da Notificação')),
                ('forma_notificacao', models.CharField(blank=True, max_length=50, verbose_name='Forma de Notificação')),
                ('observacoes', models.TextField(blank=True, verbose_name='Observações')),
                ('criado_em', models.DateTimeField(auto_now_add=True, verbose_name='Criado em')),
                ('atualizado_em', models.DateTimeField(auto_now=True, verbose_name='Atualizado em')),
                ('analise', models.OneToOneField(on_delete=django.db.models.deletion.CASCADE, related_name='decisao', to='analise_juridica.analisejuridica')),
                ('julgador', models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, to=settings.AUTH_USER_MODEL, verbose_name='Julgador')),
            ],
            options={
                'verbose_name': 'Decisão Administrativa',
                'verbose_name_plural': 'Decisões Administrativas',
                'ordering': ['-data_julgamento'],
            },
        ),
        migrations.CreateModel(
            name='RecursoAdministrativo',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('numero_recurso', models.CharField(blank=True, max_length=50, unique=True, verbose_name='Número do Recurso')),
                ('tipo_recurso', models.CharField(choices=[('RECURSO_ORDINARIO', 'Recurso Ordinário'), ('RECURSO_EXTRAORDINARIO', 'Recurso Extraordinário'), ('REVISAO', 'Pedido de Revisão'), ('RECONSIDERACAO', 'Pedido de Reconsideração')], max_length=25, verbose_name='Tipo de Recurso')),
                ('recorrente_nome', models.CharField(max_length=300, verbose_name='Nome do Recorrente')),
                ('recorrente_documento', models.CharField(max_length=20, verbose_name='CPF/CNPJ do Recorrente')),
                ('representante_nome', models.CharField(blank=True, max_length=300, verbose_name='Nome do Representante')),
                ('fundamentacao', models.TextField(verbose_name='Fundamentação do Recurso')),
                ('pedidos', models.TextField(verbose_name='Pedidos')),
                ('valor_causas', models.DecimalField(blank=True, decimal_places=2, max_digits=12, null=True, verbose_name='Valor da Causa (R$)')),
                ('status', models.CharField(choices=[('PROTOCOLADO', 'Protocolado'), ('EM_ANALISE', 'Em Análise'), ('JULGADO_PROVIDO', 'Julgado Provido'), ('JULGADO_IMPROVIDO', 'Julgado Improvido'), ('JULGADO_PARCIALMENTE', 'Julgado Parcialmente Provido'), ('EXTINTO', 'Extinto')], default='PROTOCOLADO', max_length=25, verbose_name='Status')),
                ('data_protocolo', models.DateTimeField(auto_now_add=True, verbose_name='Data do Protocolo')),
                ('prazo_julgamento', models.DateTimeField(blank=True, null=True, verbose_name='Prazo para Julgamento')),
                ('data_julgamento', models.DateTimeField(blank=True, null=True, verbose_name='Data do Julgamento')),
                ('resultado', models.TextField(blank=True, verbose_name='Resultado do Julgamento')),
                ('valor_final_recurso', models.DecimalField(blank=True, decimal_places=2, max_digits=12, null=True, verbose_name='Valor Final após Recurso (R$)')),
                ('arquivo_recurso', models.FileField(blank=True, upload_to='analise_juridica/recursos/%Y/%m/', verbose_name='Arquivo do Recurso')),
                ('arquivo_decisao_recurso', models.FileField(blank=True, upload_to='analise_juridica/decisoes_recurso/%Y/%m/', verbose_name='Arquivo da Decisão do Recurso')),
                ('observacoes', models.TextField(blank=True, verbose_name='Observações')),
                ('criado_em', models.DateTimeField(auto_now_add=True, verbose_name='Criado em')),
                ('atualizado_em', models.DateTimeField(auto_now=True, verbose_name='Atualizado em')),
                ('decisao_recorrida', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='recursos', to='analise_juridica.decisaoadministrativa')),
                ('relator', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='recursos_analise_relatados', to=settings.AUTH_USER_MODEL, verbose_name='Relator')),
            ],
            options={
                'verbose_name': 'Recurso Administrativo',
                'verbose_name_plural': 'Recursos Administrativos',
                'ordering': ['-data_protocolo'],
                'indexes': [models.Index(fields=['numero_recurso'], name='analise_jur_numero__d313e3_idx'), models.Index(fields=['status'], name='analise_jur_status_f1c40a_idx'), models.Index(fields=['relator'], name='analise_jur_relator_31002c_idx'), models.Index(fields=['data_protocolo'], name='analise_jur_data_pr_48c841_idx')],
            },
        ),
        migrations.CreateModel(
            name='ParecerTecnico',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('numero_parecer', models.CharField(blank=True, max_length=50, unique=True, verbose_name='Número do Parecer')),
                ('tipo_parecer', models.CharField(choices=[('TECNICO', 'Parecer Técnico'), ('JURIDICO', 'Parecer Jurídico'), ('CONJUNTO', 'Parecer Técnico-Jurídico'), ('COMPLEMENTAR', 'Parecer Complementar'), ('REVISAO', 'Parecer de Revisão')], max_length=20, verbose_name='Tipo de Parecer')),
                ('titulo', models.CharField(max_length=300, verbose_name='Título')),
                ('relatorio', models.TextField(verbose_name='Relatório')),
                ('fundamentacao_tecnica', models.TextField(blank=True, verbose_name='Fundamentação Técnica')),
                ('fundamentacao_juridica', models.TextField(verbose_name='Fundamentação Jurídica')),
                ('conclusao', models.CharField(choices=[('PROCEDENTE', 'Procedente'), ('IMPROCEDENTE', 'Improcedente'), ('PARCIALMENTE_PROCEDENTE', 'Parcialmente Procedente'), ('NECESSITA_COMPLEMENTACAO', 'Necessita Complementação'), ('AGUARDA_DOCUMENTOS', 'Aguarda Documentos'), ('ENCAMINHA_OUTRO_ORGAO', 'Encaminha para Outro Órgão')], max_length=30, verbose_name='Conclusão')),
                ('recomendacoes', models.TextField(blank=True, verbose_name='Recomendações')),
                ('legislacao_aplicada', models.TextField(verbose_name='Legislação Aplicada')),
                ('jurisprudencia', models.TextField(blank=True, verbose_name='Jurisprudência')),
                ('doutrina', models.TextField(blank=True, verbose_name='Doutrina')),
                ('cargo_elaborador', models.CharField(blank=True, max_length=100, verbose_name='Cargo do Elaborador')),
                ('data_revisao', models.DateTimeField(blank=True, null=True, verbose_name='Data da Revisão')),
                ('observacoes_revisao', models.TextField(blank=True, verbose_name='Observações da Revisão')),
                ('data_aprovacao', models.DateTimeField(blank=True, null=True, verbose_name='Data da Aprovação')),
                ('status', models.CharField(choices=[('RASCUNHO', 'Rascunho'), ('ELABORADO', 'Elaborado'), ('EM_REVISAO', 'Em Revisão'), ('APROVADO', 'Aprovado'), ('PUBLICADO', 'Publicado')], default='RASCUNHO', max_length=20, verbose_name='Status')),
                ('arquivo_parecer', models.FileField(blank=True, upload_to='analise_juridica/pareceres/%Y/%m/', verbose_name='Arquivo do Parecer')),
                ('criado_em', models.DateTimeField(auto_now_add=True, verbose_name='Criado em')),
                ('atualizado_em', models.DateTimeField(auto_now=True, verbose_name='Atualizado em')),
                ('analise', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='pareceres', to='analise_juridica.analisejuridica')),
                ('aprovado_por', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='pareceres_aprovados', to=settings.AUTH_USER_MODEL, verbose_name='Aprovado por')),
                ('elaborado_por', models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, to=settings.AUTH_USER_MODEL, verbose_name='Elaborado por')),
                ('revisado_por', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='pareceres_revisados', to=settings.AUTH_USER_MODEL, verbose_name='Revisado por')),
            ],
            options={
                'verbose_name': 'Parecer Técnico',
                'verbose_name_plural': 'Pareceres Técnicos',
                'ordering': ['-criado_em'],
                'indexes': [models.Index(fields=['numero_parecer'], name='analise_jur_numero__e4b6f8_idx'), models.Index(fields=['analise'], name='analise_jur_analise_6e3b8a_idx'), models.Index(fields=['status'], name='analise_jur_status_86b0fe_idx'), models.Index(fields=['elaborado_por'], name='analise_jur_elabora_2d58e5_idx')],
            },
        ),
        migrations.CreateModel(
            name='DocumentoJuridico',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('tipo_documento', models.CharField(choices=[('DEFESA', 'Defesa'), ('RECURSO', 'Recurso'), ('DOCUMENTO_FISCAL', 'Documento Fiscal'), ('COMPROVANTE', 'Comprovante'), ('JURISPRUDENCIA', 'Jurisprudência'), ('LEGISLACAO', 'Legislação'), ('LAUDO_TECNICO', 'Laudo Técnico'), ('OUTROS', 'Outros')], max_length=20, verbose_name='Tipo')),
                ('titulo', models.CharField(max_length=300, verbose_name='Título')),
                ('descricao', models.TextField(blank=True, verbose_name='Descrição')),
                ('arquivo', models.FileField(upload_to='analise_juridica/documentos/%Y/%m/%d/', verbose_name='Arquivo')),
                ('nome_arquivo_original', models.CharField(max_length=255, verbose_name='Nome Original')),
                ('tamanho_bytes', models.BigIntegerField(verbose_name='Tamanho (bytes)')),
                ('tipo_mime', models.CharField(max_length=100, verbose_name='Tipo MIME')),
                ('hash_arquivo', models.CharField(max_length=64, verbose_name='Hash SHA-256')),
                ('data_envio', models.DateTimeField(auto_now_add=True, verbose_name='Data de Envio')),
                ('validado', models.BooleanField(default=False, verbose_name='Validado')),
                ('data_validacao', models.DateTimeField(blank=True, null=True, verbose_name='Data da Validação')),
                ('observacoes_validacao', models.TextField(blank=True, verbose_name='Observações da Validação')),
                ('analise', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='documentos', to='analise_juridica.analisejuridica')),
                ('enviado_por', models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, to=settings.AUTH_USER_MODEL, verbose_name='Enviado por')),
                ('validado_por', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='documentos_juridicos_validados', to=settings.AUTH_USER_MODEL, verbose_name='Validado por')),
            ],
            options={
                'verbose_name': 'Documento Jurídico',
                'verbose_name_plural': 'Documentos Jurídicos',
                'ordering': ['-data_envio'],
                'indexes': [models.Index(fields=['analise'], name='analise_jur_analise_76736b_idx'), models.Index(fields=['tipo_documento'], name='analise_jur_tipo_do_ee3b82_idx'), models.Index(fields=['enviado_por'], name='analise_jur_enviado_908f04_idx')],
            },
        ),
        migrations.AddIndex(
            model_name='decisaoadministrativa',
            index=models.Index(fields=['numero_decisao'], name='analise_jur_numero__ee83a6_idx'),
        ),
        migrations.AddIndex(
            model_name='decisaoadministrativa',
            index=models.Index(fields=['tipo_decisao'], name='analise_jur_tipo_de_9284d3_idx'),
        ),
        migrations.AddIndex(
            model_name='decisaoadministrativa',
            index=models.Index(fields=['julgador'], name='analise_jur_julgado_16df41_idx'),
        ),
        migrations.AddIndex(
            model_name='decisaoadministrativa',
            index=models.Index(fields=['data_julgamento'], name='analise_jur_data_ju_051025_idx'),
        ),
        migrations.AddIndex(
            model_name='decisaoadministrativa',
            index=models.Index(fields=['data_publicacao'], name='analise_jur_data_pu_a762aa_idx'),
        ),
        migrations.AddIndex(
            model_name='analisejuridica',
            index=models.Index(fields=['numero_analise'], name='analise_jur_numero__fd1f7d_idx'),
        ),
        migrations.AddIndex(
            model_name='analisejuridica',
            index=models.Index(fields=['status'], name='analise_jur_status_b24bc5_idx'),
        ),
        migrations.AddIndex(
            model_name='analisejuridica',
            index=models.Index(fields=['tipo_processo'], name='analise_jur_tipo_pr_bc10d0_idx'),
        ),
        migrations.AddIndex(
            model_name='analisejuridica',
            index=models.Index(fields=['analista_responsavel'], name='analise_jur_analist_3f4aea_idx'),
        ),
        migrations.AddIndex(
            model_name='analisejuridica',
            index=models.Index(fields=['prazo_analise'], name='analise_jur_prazo_a_ee2418_idx'),
        ),
        migrations.AddIndex(
            model_name='analisejuridica',
            index=models.Index(fields=['prazo_decisao'], name='analise_jur_prazo_d_56b6a5_idx'),
        ),
        migrations.AddIndex(
            model_name='analisejuridica',
            index=models.Index(fields=['empresa_cnpj'], name='analise_jur_empresa_e55523_idx'),
        ),
    ]
