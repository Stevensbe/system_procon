import{j as e}from"./main-BlGnCLHT.js";import{r as s}from"./router-C15yhWin.js";import{F as U}from"./MagnifyingGlassIcon-DxjVcYIb.js";import{F as R}from"./UserIcon-Crv8uqGG.js";import{F}from"./PencilIcon-CajHx5Rb.js";import{F as E}from"./TrashIcon-CKnVykBy.js";import"./vendor-Csw2ODfV.js";import"./icons-C8WIGuh4.js";function L({title:i,titleId:n,...x},d){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:d,"aria-labelledby":n},x),i?s.createElement("title",{id:n},i):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18 7.5v3m0 0v3m0-3h3m-3 0h-3m-2.25-4.125a3.375 3.375 0 1 1-6.75 0 3.375 3.375 0 0 1 6.75 0ZM3 19.235v-.11a6.375 6.375 0 0 1 12.75 0v.109A12.318 12.318 0 0 1 9.374 21c-2.331 0-4.512-.645-6.374-1.766Z"}))}const V=s.forwardRef(L),Z=()=>{const[i,n]=s.useState([]),[x,d]=s.useState(!0),[v,c]=s.useState(!1),[l,u]=s.useState(null),[m,f]=s.useState(""),[g,j]=s.useState("TODOS"),[h,k]=s.useState("TODOS"),[t,o]=s.useState({nome:"",email:"",telefone:"",cargo:"",departamento:"",role:"USUARIO",status:"ATIVO",senha:"",confirmarSenha:""});s.useEffect(()=>{p()},[]);const p=async()=>{d(!0);try{await new Promise(a=>setTimeout(a,1e3)),n([{id:1,nome:"João Silva",email:"joao.silva@procon.am.gov.br",telefone:"(92) 99999-9999",cargo:"Analista",departamento:"Fiscalização",role:"ANALISTA",status:"ATIVO",dataCriacao:"2024-01-15",ultimoAcesso:"2024-01-20 14:30"},{id:2,nome:"Maria Santos",email:"maria.santos@procon.am.gov.br",telefone:"(92) 88888-8888",cargo:"Fiscal",departamento:"Fiscalização",role:"FISCAL",status:"ATIVO",dataCriacao:"2024-01-10",ultimoAcesso:"2024-01-20 16:45"},{id:3,nome:"Carlos Oliveira",email:"carlos.oliveira@procon.am.gov.br",telefone:"(92) 77777-7777",cargo:"Coordenador",departamento:"Administrativo",role:"COORDENADOR",status:"ATIVO",dataCriacao:"2024-01-05",ultimoAcesso:"2024-01-20 17:20"},{id:4,nome:"Ana Costa",email:"ana.costa@procon.am.gov.br",telefone:"(92) 66666-6666",cargo:"Diretor",departamento:"Diretoria",role:"ADMIN",status:"ATIVO",dataCriacao:"2024-01-01",ultimoAcesso:"2024-01-20 18:00"},{id:5,nome:"Pedro Lima",email:"pedro.lima@procon.am.gov.br",telefone:"(92) 55555-5555",cargo:"Estagiário",departamento:"Jurídico",role:"USUARIO",status:"INATIVO",dataCriacao:"2024-01-20",ultimoAcesso:"2024-01-19 12:00"}])}catch(r){console.error("Erro ao carregar usuários:",r)}finally{d(!1)}},w=async r=>{if(r.preventDefault(),t.senha!==t.confirmarSenha){alert("As senhas não coincidem!");return}try{l?await A(l.id,t):await N(t),c(!1),u(null),b(),p()}catch(a){console.error("Erro ao salvar usuário:",a)}},N=async r=>{await new Promise(a=>setTimeout(a,500)),console.log("Criando usuário:",r)},A=async(r,a)=>{await new Promise(y=>setTimeout(y,500)),console.log("Atualizando usuário:",r,a)},S=async r=>{if(window.confirm("Tem certeza que deseja excluir este usuário?"))try{await new Promise(a=>setTimeout(a,500)),console.log("Excluindo usuário:",r),p()}catch(a){console.error("Erro ao excluir usuário:",a)}},C=r=>{u(r),o({nome:r.nome,email:r.email,telefone:r.telefone,cargo:r.cargo,departamento:r.departamento,role:r.role,status:r.status,senha:"",confirmarSenha:""}),c(!0)},b=()=>{o({nome:"",email:"",telefone:"",cargo:"",departamento:"",role:"USUARIO",status:"ATIVO",senha:"",confirmarSenha:""})},O=r=>{switch(r){case"ADMIN":return"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400";case"COORDENADOR":return"bg-purple-100 text-purple-800 dark:bg-purple-900/20 dark:text-purple-400";case"FISCAL":return"bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-400";case"ANALISTA":return"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900/20 dark:text-gray-400"}},I=r=>r==="ATIVO"?"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400":"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400",T=i.filter(r=>{const a=r.nome.toLowerCase().includes(m.toLowerCase())||r.email.toLowerCase().includes(m.toLowerCase()),y=g==="TODOS"||r.role===g,D=h==="TODOS"||r.status===h;return a&&y&&D});return x?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"bg-white rounded-lg shadow-lg p-6 dark:bg-gray-800 dark:border-gray-700 transition-colors duration-300",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Gestão de Usuários"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"Gerencie usuários e permissões do sistema"})]}),e.jsxs("button",{onClick:()=>{u(null),b(),c(!0)},className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors duration-300",children:[e.jsx(V,{className:"h-5 w-5 mr-2"}),"Novo Usuário"]})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow-lg p-6 dark:bg-gray-800 dark:border-gray-700 transition-colors duration-300",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Buscar"}),e.jsxs("div",{className:"relative",children:[e.jsx(U,{className:"h-5 w-5 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),e.jsx("input",{type:"text",value:m,onChange:r=>f(r.target.value),placeholder:"Nome ou email...",className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:border-gray-600 dark:bg-gray-800 dark:text-white transition-colors duration-300"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Perfil"}),e.jsxs("select",{value:g,onChange:r=>j(r.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:border-gray-600 dark:bg-gray-800 dark:text-white transition-colors duration-300",children:[e.jsx("option",{value:"TODOS",children:"Todos os Perfis"}),e.jsx("option",{value:"ADMIN",children:"Administrador"}),e.jsx("option",{value:"COORDENADOR",children:"Coordenador"}),e.jsx("option",{value:"FISCAL",children:"Fiscal"}),e.jsx("option",{value:"ANALISTA",children:"Analista"}),e.jsx("option",{value:"USUARIO",children:"Usuário"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Status"}),e.jsxs("select",{value:h,onChange:r=>k(r.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:border-gray-600 dark:bg-gray-800 dark:text-white transition-colors duration-300",children:[e.jsx("option",{value:"TODOS",children:"Todos os Status"}),e.jsx("option",{value:"ATIVO",children:"Ativo"}),e.jsx("option",{value:"INATIVO",children:"Inativo"})]})]}),e.jsx("div",{className:"flex items-end",children:e.jsx("button",{onClick:()=>{f(""),j("TODOS"),k("TODOS")},className:"w-full px-4 py-2 bg-gray-500 text-white rounded-md hover:bg-gray-600 transition-colors duration-300",children:"Limpar Filtros"})})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow-lg dark:bg-gray-800 dark:border-gray-700 transition-colors duration-300",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[e.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Usuário"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Contato"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Cargo/Departamento"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Perfil"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Último Acesso"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Ações"})]})}),e.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:T.map(r=>e.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors duration-300",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0 h-10 w-10",children:e.jsx("div",{className:"h-10 w-10 rounded-full bg-blue-100 dark:bg-blue-900/20 flex items-center justify-center",children:e.jsx(R,{className:"h-6 w-6 text-blue-600 dark:text-blue-400"})})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:r.nome}),e.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:["ID: ",r.id]})]})]})}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[e.jsx("div",{className:"text-sm text-gray-900 dark:text-white",children:r.email}),e.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:r.telefone})]}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[e.jsx("div",{className:"text-sm text-gray-900 dark:text-white",children:r.cargo}),e.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:r.departamento})]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${O(r.role)}`,children:r.role})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${I(r.status)}`,children:r.status})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400",children:new Date(r.ultimoAcesso).toLocaleString("pt-BR")}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:e.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[e.jsx("button",{onClick:()=>C(r),className:"text-blue-600 hover:text-blue-900 dark:text-blue-400 dark:hover:text-blue-300 transition-colors duration-300",children:e.jsx(F,{className:"h-4 w-4"})}),e.jsx("button",{onClick:()=>S(r.id),className:"text-red-600 hover:text-red-900 dark:text-red-400 dark:hover:text-red-300 transition-colors duration-300",children:e.jsx(E,{className:"h-4 w-4"})})]})})]},r.id))})]})})}),v&&e.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:e.jsx("div",{className:"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white dark:bg-gray-800",children:e.jsxs("div",{className:"mt-3",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4",children:l?"Editar Usuário":"Novo Usuário"}),e.jsxs("form",{onSubmit:w,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Nome Completo *"}),e.jsx("input",{type:"text",value:t.nome,onChange:r=>o({...t,nome:r.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:border-gray-600 dark:bg-gray-800 dark:text-white transition-colors duration-300",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Email *"}),e.jsx("input",{type:"email",value:t.email,onChange:r=>o({...t,email:r.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:border-gray-600 dark:bg-gray-800 dark:text-white transition-colors duration-300",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Telefone"}),e.jsx("input",{type:"tel",value:t.telefone,onChange:r=>o({...t,telefone:r.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:border-gray-600 dark:bg-gray-800 dark:text-white transition-colors duration-300"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Cargo"}),e.jsx("input",{type:"text",value:t.cargo,onChange:r=>o({...t,cargo:r.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:border-gray-600 dark:bg-gray-800 dark:text-white transition-colors duration-300"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Departamento"}),e.jsx("input",{type:"text",value:t.departamento,onChange:r=>o({...t,departamento:r.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:border-gray-600 dark:bg-gray-800 dark:text-white transition-colors duration-300"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Perfil *"}),e.jsxs("select",{value:t.role,onChange:r=>o({...t,role:r.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:border-gray-600 dark:bg-gray-800 dark:text-white transition-colors duration-300",required:!0,children:[e.jsx("option",{value:"USUARIO",children:"Usuário"}),e.jsx("option",{value:"ANALISTA",children:"Analista"}),e.jsx("option",{value:"FISCAL",children:"Fiscal"}),e.jsx("option",{value:"COORDENADOR",children:"Coordenador"}),e.jsx("option",{value:"ADMIN",children:"Administrador"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Status *"}),e.jsxs("select",{value:t.status,onChange:r=>o({...t,status:r.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:border-gray-600 dark:bg-gray-800 dark:text-white transition-colors duration-300",required:!0,children:[e.jsx("option",{value:"ATIVO",children:"Ativo"}),e.jsx("option",{value:"INATIVO",children:"Inativo"})]})]})]}),!l&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Senha *"}),e.jsx("input",{type:"password",value:t.senha,onChange:r=>o({...t,senha:r.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:border-gray-600 dark:bg-gray-800 dark:text-white transition-colors duration-300",required:!l})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Confirmar Senha *"}),e.jsx("input",{type:"password",value:t.confirmarSenha,onChange:r=>o({...t,confirmarSenha:r.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:border-gray-600 dark:bg-gray-800 dark:text-white transition-colors duration-300",required:!l})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[e.jsx("button",{type:"button",onClick:()=>{c(!1),u(null),b()},className:"px-4 py-2 bg-gray-300 text-gray-700 rounded-md hover:bg-gray-400 transition-colors duration-300",children:"Cancelar"}),e.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors duration-300",children:l?"Atualizar":"Criar"})]})]})]})})})]})};export{Z as default};
