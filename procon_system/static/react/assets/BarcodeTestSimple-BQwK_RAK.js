import{j as e}from"./main-DVdFXPbZ.js";import{r as l}from"./router-C15yhWin.js";import{p as x}from"./produtosService-D8wngoxf.js";import{n as a}from"./index-CsOmCsbp.js";import"./vendor-Csw2ODfV.js";import"./icons-C8WIGuh4.js";const f=()=>{const[r,c]=l.useState(""),[n,i]=l.useState([]),d=async()=>{if(!r.trim()){a.error("Digite um c√≥digo de barras");return}try{console.log("Testando c√≥digo:",r);const s=await x.buscarPorCodigoBarras(r),t={code:r,timestamp:new Date().toLocaleTimeString(),success:s.success,source:s.source,produto:s.produto,error:s.error};i(o=>[t,...o]),s.success?a.success(`Produto encontrado: ${s.produto.nome}`):a.error(`Erro: ${s.error}`)}catch(s){console.error("Erro ao testar c√≥digo:",s);const t={code:r,timestamp:new Date().toLocaleTimeString(),success:!1,error:s.message};i(o=>[t,...o]),a.error("Erro ao buscar produto")}c("")},m=()=>{i([])};return e.jsxs("div",{className:"max-w-4xl mx-auto p-6 bg-white rounded-lg shadow-lg",children:[e.jsx("h2",{className:"text-2xl font-bold mb-6 text-gray-800",children:"üß™ Teste Simples do Scanner"}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"flex space-x-2 mb-4",children:[e.jsx("input",{type:"text",value:r,onChange:s=>c(s.target.value),placeholder:"Digite um c√≥digo de barras para testar",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",onKeyPress:s=>s.key==="Enter"&&d()}),e.jsx("button",{onClick:d,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-green-500",children:"Testar"}),e.jsx("button",{onClick:m,className:"px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-gray-500",children:"Limpar"})]}),e.jsxs("div",{className:"text-sm text-gray-600",children:[e.jsx("p",{className:"font-medium mb-2",children:"C√≥digos de teste:"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:["7891234567890","3017620422003","7891000100103"].map(s=>e.jsx("button",{onClick:()=>c(s),className:"px-3 py-1 bg-gray-100 text-gray-700 rounded hover:bg-gray-200",children:s},s))})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-800",children:["üìä Resultados dos Testes (",n.length,")"]}),n.length===0?e.jsxs("div",{className:"text-center py-8 text-gray-500",children:[e.jsx("p",{children:"Nenhum teste realizado ainda."}),e.jsx("p",{children:"Digite um c√≥digo de barras para testar."})]}):e.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:n.map((s,t)=>{var o;return e.jsx("div",{className:`p-4 rounded-lg border ${s.success?"bg-green-50 border-green-200":"bg-red-50 border-red-200"}`,children:e.jsx("div",{className:"flex justify-between items-start",children:e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[e.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${s.success?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:s.success?"‚úÖ Sucesso":"‚ùå Erro"}),e.jsx("span",{className:"text-sm text-gray-500",children:s.timestamp})]}),e.jsxs("p",{className:"font-mono text-sm mb-2",children:["C√≥digo: ",s.code]}),s.success&&s.produto&&e.jsxs("div",{className:"text-sm",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Nome:"})," ",s.produto.nome]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Fonte:"})," ",s.source]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Especifica√ß√£o:"})," ",(o=s.produto.especificacao)==null?void 0:o.substring(0,100),"..."]})]}),s.error&&e.jsxs("p",{className:"text-sm text-red-600",children:[e.jsx("strong",{children:"Erro:"})," ",s.error]})]})})},t)})})]})]})};export{f as default};
