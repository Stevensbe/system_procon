import{j as e}from"./main-BlGnCLHT.js";import{r as l,L as i,R as n}from"./router-C15yhWin.js";import{F as k}from"./PlusIcon-DZYmRjce.js";import{F as u}from"./DocumentTextIcon-o9njoXYt.js";import{F as w}from"./MagnifyingGlassIcon-DxjVcYIb.js";import{F as h}from"./CurrencyDollarIcon-rQfx65sT.js";import{F as q}from"./CheckCircleIcon-B-MrGrlS.js";import{R as x,e as T,C as p,X as b,Y as j,T as m,L as v,f as y,P as K,b as L,c as I,B as F,d as g}from"./charts-BhhE3E4a.js";import{F as z}from"./ChartBarIcon-DI9Vcfue.js";import{F as V}from"./ArrowUpIcon-DJBdd_VW.js";import{F as J}from"./ArrowDownIcon-CZdQ6zPL.js";import"./vendor-Csw2ODfV.js";import"./icons-C8WIGuh4.js";const re=()=>{const[B,f]=l.useState(!0),[t,P]=l.useState({totalAutos:0,autosEmAndamento:0,autosConcluidos:0,autosPendentes:0,totalMultas:0,multasPagas:0,multasPendentes:0,multasVencidas:0,fiscalizacoesMes:0,fiscalizacoesAno:0,irregularidadesEncontradas:0,empresasFiscalizadas:0,valorTotalMultas:0,taxaEficiencia:0}),[d,E]=l.useState({fiscalizacoesPorMes:[],autosPorTipo:[],multasPorTipo:[],irregularidadesPorCategoria:[],performanceMensal:[],eficienciaPorSetor:[]}),[C,A]=l.useState([]),[N,R]=l.useState("mes");l.useEffect(()=>{M()},[N]);const M=async()=>{f(!0);try{const a={totalAutos:1247,autosEmAndamento:89,autosConcluidos:1158,autosPendentes:156,totalMultas:892,multasPagas:634,multasPendentes:258,multasVencidas:45,fiscalizacoesMes:67,fiscalizacoesAno:892,irregularidadesEncontradas:445,empresasFiscalizadas:234,valorTotalMultas:2847500,taxaEficiencia:87.5},r={fiscalizacoesPorMes:[{mes:"Jan",planejadas:80,realizadas:75,eficiencia:93.8},{mes:"Fev",planejadas:85,realizadas:82,eficiencia:96.5},{mes:"Mar",planejadas:90,realizadas:87,eficiencia:96.7},{mes:"Abr",planejadas:95,realizadas:89,eficiencia:93.7},{mes:"Mai",planejadas:100,realizadas:94,eficiencia:94},{mes:"Jun",planejadas:105,realizadas:98,eficiencia:93.3}],autosPorTipo:[{tipo:"Bancos",quantidade:45,cor:"#3B82F6"},{tipo:"Postos",quantidade:78,cor:"#10B981"},{tipo:"Supermercados",quantidade:92,cor:"#F59E0B"},{tipo:"Diversos",quantidade:34,cor:"#EF4444"}],multasPorTipo:[{tipo:"Leve",quantidade:156,valor:234e3,cor:"#10B981"},{tipo:"Média",quantidade:89,valor:445e3,cor:"#F59E0B"},{tipo:"Grave",quantidade:23,valor:69e4,cor:"#EF4444"},{tipo:"Gravíssima",quantidade:12,valor:48e4,cor:"#8B5CF6"}],irregularidadesPorCategoria:[{categoria:"Preços",quantidade:123,cor:"#3B82F6"},{categoria:"Prazos",quantidade:89,cor:"#10B981"},{categoria:"Documentação",quantidade:67,cor:"#F59E0B"},{categoria:"Segurança",quantidade:45,cor:"#EF4444"},{categoria:"Outras",quantidade:121,cor:"#8B5CF6"}],performanceMensal:[{mes:"Jan",autos:45,multas:23,irregularidades:67},{mes:"Fev",autos:52,multas:28,irregularidades:74},{mes:"Mar",autos:48,multas:25,irregularidades:71},{mes:"Abr",autos:61,multas:32,irregularidades:89},{mes:"Mai",autos:55,multas:29,irregularidades:82},{mes:"Jun",autos:67,multas:35,irregularidades:95}],eficienciaPorSetor:[{setor:"Bancos",eficiencia:92,autos:45,multas:23},{setor:"Postos",eficiencia:88,autos:78,multas:41},{setor:"Supermercados",eficiencia:85,autos:92,multas:48},{setor:"Diversos",eficiencia:91,autos:34,multas:18}]},D=[{id:1,tipo:"auto",titulo:"Auto de Infração criado",descricao:"Auto nº 2024/001234 - Banco XYZ",tempo:"2 horas atrás",usuario:"João Silva"},{id:2,tipo:"multa",titulo:"Multa aplicada",descricao:"Multa de R$ 15.000,00 - Posto ABC",tempo:"4 horas atrás",usuario:"Maria Santos"},{id:3,tipo:"fiscalizacao",titulo:"Fiscalização realizada",descricao:"Supermercado DEF - 3 irregularidades encontradas",tempo:"6 horas atrás",usuario:"Pedro Costa"},{id:4,tipo:"relatorio",titulo:"Relatório gerado",descricao:"Relatório mensal de fiscalização - Junho/2024",tempo:"1 dia atrás",usuario:"Ana Oliveira"}];P(a),E(r),A(D)}catch(a){console.error("Erro ao carregar dados do dashboard:",a)}finally{f(!1)}},S=a=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(a),s=a=>new Intl.NumberFormat("pt-BR").format(a),$=a=>`${a.toFixed(1)}%`,o=a=>a>=0?"text-green-600":"text-red-600",c=a=>a>=0?V:J;return B?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-lg p-6 border border-gray-200 dark:border-gray-700",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Dashboard de Fiscalização"}),e.jsxs("p",{className:"text-gray-600 dark:text-gray-300 mt-1",children:["Controle e monitoramento das atividades de fiscalização - ",new Date().toLocaleDateString("pt-BR",{year:"numeric",month:"long",day:"numeric"})]})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("select",{value:N,onChange:a=>R(a.target.value),className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white text-sm",children:[e.jsx("option",{value:"mes",children:"Último mês"}),e.jsx("option",{value:"trimestre",children:"Último trimestre"}),e.jsx("option",{value:"ano",children:"Último ano"})]}),e.jsxs(i,{to:"/fiscalizacao/novo-auto",className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 text-sm",children:[e.jsx(k,{className:"h-4 w-4 mr-2"}),"Novo Auto"]})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-lg p-6 border border-gray-200 dark:border-gray-700",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-3 rounded-full bg-blue-100 dark:bg-blue-900/20",children:e.jsx(u,{className:"h-6 w-6 text-blue-600 dark:text-blue-400"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Total de Autos"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:s(t.totalAutos)})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:`flex items-center text-sm ${o(15)}`,children:[n.createElement(c(15),{className:"h-4 w-4 mr-1"}),e.jsx("span",{children:"+15%"})]}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"vs mês anterior"})]})]}),e.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200 dark:border-gray-700",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Em andamento"}),e.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:s(t.autosEmAndamento)})]}),e.jsxs("div",{className:"flex justify-between text-sm mt-1",children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Concluídos"}),e.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:s(t.autosConcluidos)})]})]})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-lg p-6 border border-gray-200 dark:border-gray-700",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-3 rounded-full bg-green-100 dark:bg-green-900/20",children:e.jsx(w,{className:"h-6 w-6 text-green-600 dark:text-green-400"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Fiscalizações/Mês"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:s(t.fiscalizacoesMes)})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:`flex items-center text-sm ${o(8)}`,children:[n.createElement(c(8),{className:"h-4 w-4 mr-1"}),e.jsx("span",{children:"+8%"})]}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"vs mês anterior"})]})]}),e.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200 dark:border-gray-700",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Anual"}),e.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:s(t.fiscalizacoesAno)})]}),e.jsxs("div",{className:"flex justify-between text-sm mt-1",children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Empresas"}),e.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:s(t.empresasFiscalizadas)})]})]})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-lg p-6 border border-gray-200 dark:border-gray-700",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-3 rounded-full bg-yellow-100 dark:bg-yellow-900/20",children:e.jsx(h,{className:"h-6 w-6 text-yellow-600 dark:text-yellow-400"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Valor Total Multas"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:S(t.valorTotalMultas)})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:`flex items-center text-sm ${o(12)}`,children:[n.createElement(c(12),{className:"h-4 w-4 mr-1"}),e.jsx("span",{children:"+12%"})]}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"vs mês anterior"})]})]}),e.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200 dark:border-gray-700",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Pagas"}),e.jsx("span",{className:"font-medium text-green-600 dark:text-green-400",children:s(t.multasPagas)})]}),e.jsxs("div",{className:"flex justify-between text-sm mt-1",children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Pendentes"}),e.jsx("span",{className:"font-medium text-red-600 dark:text-red-400",children:s(t.multasPendentes)})]})]})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-lg p-6 border border-gray-200 dark:border-gray-700",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-3 rounded-full bg-purple-100 dark:bg-purple-900/20",children:e.jsx(q,{className:"h-6 w-6 text-purple-600 dark:text-purple-400"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Taxa de Eficiência"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:$(t.taxaEficiencia)})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:`flex items-center text-sm ${o(3)}`,children:[n.createElement(c(3),{className:"h-4 w-4 mr-1"}),e.jsx("span",{children:"+3%"})]}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"vs mês anterior"})]})]}),e.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200 dark:border-gray-700",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Irregularidades"}),e.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:s(t.irregularidadesEncontradas)})]}),e.jsxs("div",{className:"flex justify-between text-sm mt-1",children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Vencidas"}),e.jsx("span",{className:"font-medium text-red-600 dark:text-red-400",children:s(t.multasVencidas)})]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-lg p-6 border border-gray-200 dark:border-gray-700",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Eficiência das Fiscalizações"}),e.jsx(x,{width:"100%",height:300,children:e.jsxs(T,{data:d.fiscalizacoesPorMes,children:[e.jsx(p,{strokeDasharray:"3 3",stroke:"#374151"}),e.jsx(b,{dataKey:"mes",stroke:"#6B7280"}),e.jsx(j,{stroke:"#6B7280"}),e.jsx(m,{formatter:(a,r)=>[r==="eficiencia"?`${a}%`:s(a),r==="planejadas"?"Planejadas":r==="realizadas"?"Realizadas":"Eficiência"],labelStyle:{color:"#374151"},contentStyle:{backgroundColor:"#1F2937",border:"1px solid #374151",borderRadius:"8px"}}),e.jsx(v,{}),e.jsx(y,{type:"monotone",dataKey:"planejadas",stroke:"#3B82F6",strokeWidth:2,dot:{fill:"#3B82F6",strokeWidth:2,r:4}}),e.jsx(y,{type:"monotone",dataKey:"realizadas",stroke:"#10B981",strokeWidth:2,dot:{fill:"#10B981",strokeWidth:2,r:4}}),e.jsx(y,{type:"monotone",dataKey:"eficiencia",stroke:"#F59E0B",strokeWidth:2,dot:{fill:"#F59E0B",strokeWidth:2,r:4}})]})})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-lg p-6 border border-gray-200 dark:border-gray-700",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Distribuição de Autos por Tipo"}),e.jsx(x,{width:"100%",height:300,children:e.jsxs(K,{children:[e.jsx(L,{data:d.autosPorTipo,cx:"50%",cy:"50%",labelLine:!1,label:({tipo:a,quantidade:r})=>`${a} ${r}`,outerRadius:80,fill:"#8884d8",dataKey:"quantidade",children:d.autosPorTipo.map((a,r)=>e.jsx(I,{fill:a.cor},`cell-${r}`))}),e.jsx(m,{formatter:(a,r)=>[s(a),"Quantidade"],labelStyle:{color:"#374151"},contentStyle:{backgroundColor:"#1F2937",border:"1px solid #374151",borderRadius:"8px"}})]})})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-lg p-6 border border-gray-200 dark:border-gray-700",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Performance Mensal"}),e.jsx(x,{width:"100%",height:300,children:e.jsxs(F,{data:d.performanceMensal,children:[e.jsx(p,{strokeDasharray:"3 3",stroke:"#374151"}),e.jsx(b,{dataKey:"mes",stroke:"#6B7280"}),e.jsx(j,{stroke:"#6B7280"}),e.jsx(m,{formatter:(a,r)=>[s(a),r==="autos"?"Autos":r==="multas"?"Multas":"Irregularidades"],labelStyle:{color:"#374151"},contentStyle:{backgroundColor:"#1F2937",border:"1px solid #374151",borderRadius:"8px"}}),e.jsx(v,{}),e.jsx(g,{dataKey:"autos",fill:"#3B82F6",name:"Autos"}),e.jsx(g,{dataKey:"multas",fill:"#10B981",name:"Multas"}),e.jsx(g,{dataKey:"irregularidades",fill:"#F59E0B",name:"Irregularidades"})]})})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-lg p-6 border border-gray-200 dark:border-gray-700",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Irregularidades por Categoria"}),e.jsx(x,{width:"100%",height:300,children:e.jsxs(F,{data:d.irregularidadesPorCategoria,layout:"horizontal",children:[e.jsx(p,{strokeDasharray:"3 3",stroke:"#374151"}),e.jsx(b,{type:"number",stroke:"#6B7280"}),e.jsx(j,{dataKey:"categoria",type:"category",stroke:"#6B7280",width:80}),e.jsx(m,{formatter:(a,r)=>[s(a),"Quantidade"],labelStyle:{color:"#374151"},contentStyle:{backgroundColor:"#1F2937",border:"1px solid #374151",borderRadius:"8px"}}),e.jsx(g,{dataKey:"quantidade",fill:"#3B82F6"})]})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"lg:col-span-2 bg-white dark:bg-gray-800 rounded-lg shadow-lg p-6 border border-gray-200 dark:border-gray-700",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Atividades Recentes"}),e.jsx(i,{to:"/fiscalizacao/atividades",className:"text-sm text-blue-600 dark:text-blue-400 hover:underline",children:"Ver todas"})]}),e.jsx("div",{className:"space-y-4",children:C.map(a=>e.jsxs("div",{className:"flex items-start space-x-3 p-3 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:[e.jsxs("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${a.tipo==="auto"?"bg-blue-100 dark:bg-blue-900/20":a.tipo==="multa"?"bg-green-100 dark:bg-green-900/20":a.tipo==="fiscalizacao"?"bg-yellow-100 dark:bg-yellow-900/20":"bg-purple-100 dark:bg-purple-900/20"}`,children:[a.tipo==="auto"&&e.jsx(u,{className:"h-4 w-4 text-blue-600 dark:text-blue-400"}),a.tipo==="multa"&&e.jsx(h,{className:"h-4 w-4 text-green-600 dark:text-green-400"}),a.tipo==="fiscalizacao"&&e.jsx(w,{className:"h-4 w-4 text-yellow-600 dark:text-yellow-400"}),a.tipo==="relatorio"&&e.jsx(z,{className:"h-4 w-4 text-purple-600 dark:text-purple-400"})]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:a.titulo}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:a.descricao}),e.jsx("div",{className:"flex items-center justify-between mt-1",children:e.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:[a.tempo," • ",a.usuario]})})]})]},a.id))})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-lg p-6 border border-gray-200 dark:border-gray-700",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Ações Rápidas"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs(i,{to:"/fiscalizacao/novo-auto",className:"flex items-center p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg hover:bg-blue-100 dark:hover:bg-blue-900/40 transition-colors",children:[e.jsx(k,{className:"h-5 w-5 text-blue-600 dark:text-blue-400 mr-3"}),e.jsx("span",{className:"text-sm font-medium text-blue-900 dark:text-blue-100",children:"Criar Auto de Infração"})]}),e.jsxs(i,{to:"/fiscalizacao/autos",className:"flex items-center p-3 bg-green-50 dark:bg-green-900/20 rounded-lg hover:bg-green-100 dark:hover:bg-green-900/40 transition-colors",children:[e.jsx(u,{className:"h-5 w-5 text-green-600 dark:text-green-400 mr-3"}),e.jsx("span",{className:"text-sm font-medium text-green-900 dark:text-green-100",children:"Gerenciar Autos"})]}),e.jsxs(i,{to:"/fiscalizacao/relatorios",className:"flex items-center p-3 bg-purple-50 dark:bg-purple-900/20 rounded-lg hover:bg-purple-100 dark:hover:bg-purple-900/40 transition-colors",children:[e.jsx(z,{className:"h-5 w-5 text-purple-600 dark:text-purple-400 mr-3"}),e.jsx("span",{className:"text-sm font-medium text-purple-900 dark:text-purple-100",children:"Gerar Relatórios"})]}),e.jsxs(i,{to:"/fiscalizacao/multas",className:"flex items-center p-3 bg-yellow-50 dark:bg-yellow-900/20 rounded-lg hover:bg-yellow-100 dark:hover:bg-yellow-900/40 transition-colors",children:[e.jsx(h,{className:"h-5 w-5 text-yellow-600 dark:text-yellow-400 mr-3"}),e.jsx("span",{className:"text-sm font-medium text-yellow-900 dark:text-yellow-100",children:"Controlar Multas"})]})]})]})]})]})};export{re as default};
