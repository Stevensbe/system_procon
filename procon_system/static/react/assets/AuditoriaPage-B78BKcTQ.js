import{j as e}from"./main-DVdFXPbZ.js";import{r as i}from"./router-C15yhWin.js";import{F as o}from"./ShieldCheckIcon-QVYJJ8YH.js";import{F as j}from"./FunnelIcon-PU3yDtaQ.js";import{F as n}from"./InformationCircleIcon-o8enZ7c_.js";import{F as l}from"./ExclamationTriangleIcon-Y0luX6t1.js";import{F as v}from"./EyeIcon-Cu0Wnbis.js";import{F as k}from"./DocumentTextIcon-o9njoXYt.js";import"./vendor-Csw2ODfV.js";import"./icons-C8WIGuh4.js";const F=()=>{const[m,c]=i.useState(!0),[r,u]=i.useState([]),[a,s]=i.useState({dataInicio:"",dataFim:"",tipo:"TODOS",usuario:"",nivel:"TODOS"});i.useEffect(()=>{g()},[a]);const g=async()=>{c(!0);try{await new Promise(d=>setTimeout(d,1e3)),u([{id:1,timestamp:"2024-01-20 18:30:25",nivel:"INFO",usuario:"joao.silva@procon.am.gov.br",acao:"LOGIN",descricao:"Usuário fez login no sistema",ip:"192.168.1.100",userAgent:"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36"},{id:2,timestamp:"2024-01-20 18:25:10",nivel:"WARNING",usuario:"maria.santos@procon.am.gov.br",acao:"TENTATIVA_LOGIN",descricao:"Tentativa de login com senha incorreta",ip:"192.168.1.101",userAgent:"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36"},{id:3,timestamp:"2024-01-20 18:20:45",nivel:"INFO",usuario:"carlos.oliveira@procon.am.gov.br",acao:"CRIAR_AUTO",descricao:"Criou novo auto de infração #2024-001",ip:"192.168.1.102",userAgent:"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36"},{id:4,timestamp:"2024-01-20 18:15:30",nivel:"ERROR",usuario:"sistema@procon.am.gov.br",acao:"ERRO_SISTEMA",descricao:"Erro ao processar backup automático",ip:"192.168.1.1",userAgent:"Sistema Automático"},{id:5,timestamp:"2024-01-20 18:10:15",nivel:"INFO",usuario:"ana.costa@procon.am.gov.br",acao:"EDITAR_USUARIO",descricao:"Editou dados do usuário ID: 123",ip:"192.168.1.103",userAgent:"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36"},{id:6,timestamp:"2024-01-20 18:05:00",nivel:"SECURITY",usuario:"sistema@procon.am.gov.br",acao:"BLOQUEIO_USUARIO",descricao:"Usuário bloqueado por múltiplas tentativas de login",ip:"192.168.1.104",userAgent:"Sistema de Segurança"}])}catch(t){console.error("Erro ao carregar logs:",t)}finally{c(!1)}},h=t=>{switch(t){case"INFO":return"bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-400";case"WARNING":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-400";case"ERROR":return"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400";case"SECURITY":return"bg-purple-100 text-purple-800 dark:bg-purple-900/20 dark:text-purple-400";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900/20 dark:text-gray-400"}},p=t=>{switch(t){case"INFO":return e.jsx(n,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"});case"WARNING":return e.jsx(l,{className:"h-5 w-5 text-yellow-600 dark:text-yellow-400"});case"ERROR":return e.jsx(l,{className:"h-5 w-5 text-red-600 dark:text-red-400"});case"SECURITY":return e.jsx(o,{className:"h-5 w-5 text-purple-600 dark:text-purple-400"});default:return e.jsx(n,{className:"h-5 w-5 text-gray-600 dark:text-gray-400"})}},x=r.filter(t=>{const d=(!a.dataInicio||t.timestamp>=a.dataInicio)&&(!a.dataFim||t.timestamp<=a.dataFim),b=a.tipo==="TODOS"||t.acao===a.tipo,y=!a.usuario||t.usuario.toLowerCase().includes(a.usuario.toLowerCase()),N=a.nivel==="TODOS"||t.nivel===a.nivel;return d&&b&&y&&N});return m?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"bg-white rounded-lg shadow-lg p-6 dark:bg-gray-800 dark:border-gray-700 transition-colors duration-300",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Auditoria do Sistema"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"Monitore logs de segurança e atividades do sistema"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(o,{className:"h-8 w-8 text-blue-600 dark:text-blue-400"}),e.jsxs("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:["Última atualização: ",new Date().toLocaleString("pt-BR")]})]})]})}),e.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 dark:bg-gray-800 dark:border-gray-700 transition-colors duration-300",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx(j,{className:"h-5 w-5 text-gray-400 mr-2"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Filtros"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Data Início"}),e.jsx("input",{type:"datetime-local",value:a.dataInicio,onChange:t=>s({...a,dataInicio:t.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:border-gray-600 dark:bg-gray-800 dark:text-white transition-colors duration-300"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Data Fim"}),e.jsx("input",{type:"datetime-local",value:a.dataFim,onChange:t=>s({...a,dataFim:t.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:border-gray-600 dark:bg-gray-800 dark:text-white transition-colors duration-300"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Tipo de Ação"}),e.jsxs("select",{value:a.tipo,onChange:t=>s({...a,tipo:t.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:border-gray-600 dark:bg-gray-800 dark:text-white transition-colors duration-300",children:[e.jsx("option",{value:"TODOS",children:"Todas as Ações"}),e.jsx("option",{value:"LOGIN",children:"Login"}),e.jsx("option",{value:"LOGOUT",children:"Logout"}),e.jsx("option",{value:"CRIAR_AUTO",children:"Criar Auto"}),e.jsx("option",{value:"EDITAR_AUTO",children:"Editar Auto"}),e.jsx("option",{value:"EXCLUIR_AUTO",children:"Excluir Auto"}),e.jsx("option",{value:"CRIAR_USUARIO",children:"Criar Usuário"}),e.jsx("option",{value:"EDITAR_USUARIO",children:"Editar Usuário"}),e.jsx("option",{value:"EXCLUIR_USUARIO",children:"Excluir Usuário"}),e.jsx("option",{value:"TENTATIVA_LOGIN",children:"Tentativa de Login"}),e.jsx("option",{value:"BLOQUEIO_USUARIO",children:"Bloqueio de Usuário"}),e.jsx("option",{value:"ERRO_SISTEMA",children:"Erro do Sistema"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Nível"}),e.jsxs("select",{value:a.nivel,onChange:t=>s({...a,nivel:t.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:border-gray-600 dark:bg-gray-800 dark:text-white transition-colors duration-300",children:[e.jsx("option",{value:"TODOS",children:"Todos os Níveis"}),e.jsx("option",{value:"INFO",children:"Informação"}),e.jsx("option",{value:"WARNING",children:"Aviso"}),e.jsx("option",{value:"ERROR",children:"Erro"}),e.jsx("option",{value:"SECURITY",children:"Segurança"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Usuário"}),e.jsx("input",{type:"text",value:a.usuario,onChange:t=>s({...a,usuario:t.target.value}),placeholder:"Buscar por usuário...",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:border-gray-600 dark:bg-gray-800 dark:text-white transition-colors duration-300"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[e.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-6 rounded-lg",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(n,{className:"h-8 w-8 text-blue-600 dark:text-blue-400"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-blue-600 dark:text-blue-400",children:"Logs de Informação"}),e.jsx("p",{className:"text-2xl font-bold text-blue-900 dark:text-blue-200",children:r.filter(t=>t.nivel==="INFO").length})]})]})}),e.jsx("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 p-6 rounded-lg",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(l,{className:"h-8 w-8 text-yellow-600 dark:text-yellow-400"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-yellow-600 dark:text-yellow-400",children:"Avisos"}),e.jsx("p",{className:"text-2xl font-bold text-yellow-900 dark:text-yellow-200",children:r.filter(t=>t.nivel==="WARNING").length})]})]})}),e.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 p-6 rounded-lg",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(l,{className:"h-8 w-8 text-red-600 dark:text-red-400"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-red-600 dark:text-red-400",children:"Erros"}),e.jsx("p",{className:"text-2xl font-bold text-red-900 dark:text-red-200",children:r.filter(t=>t.nivel==="ERROR").length})]})]})}),e.jsx("div",{className:"bg-purple-50 dark:bg-purple-900/20 p-6 rounded-lg",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(o,{className:"h-8 w-8 text-purple-600 dark:text-purple-400"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-purple-600 dark:text-purple-400",children:"Eventos de Segurança"}),e.jsx("p",{className:"text-2xl font-bold text-purple-900 dark:text-purple-200",children:r.filter(t=>t.nivel==="SECURITY").length})]})]})})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-lg dark:bg-gray-800 dark:border-gray-700 transition-colors duration-300",children:[e.jsxs("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Logs de Auditoria"}),e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:["Mostrando ",x.length," de ",r.length," registros"]})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[e.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Timestamp"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Nível"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Usuário"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Ação"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Descrição"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"IP"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Ações"})]})}),e.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:x.map(t=>e.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors duration-300",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:new Date(t.timestamp).toLocaleString("pt-BR")}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[p(t.nivel),e.jsx("span",{className:`ml-2 inline-flex px-2 py-1 text-xs font-semibold rounded-full ${h(t.nivel)}`,children:t.nivel})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:t.usuario}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:t.acao}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-900 dark:text-white",children:e.jsx("div",{className:"max-w-xs truncate",title:t.descricao,children:t.descricao})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400",children:t.ip}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:e.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[e.jsx("button",{className:"text-blue-600 hover:text-blue-900 dark:text-blue-400 dark:hover:text-blue-300 transition-colors duration-300",title:"Ver detalhes",children:e.jsx(v,{className:"h-4 w-4"})}),e.jsx("button",{className:"text-gray-600 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 transition-colors duration-300",title:"Exportar",children:e.jsx(k,{className:"h-4 w-4"})})]})})]},t.id))})]})})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 dark:bg-gray-800 dark:border-gray-700 transition-colors duration-300",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Relatórios de Segurança"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 p-4 rounded-lg",children:[e.jsx("h4",{className:"font-medium text-gray-900 dark:text-white mb-2",children:"Tentativas de Login Falhadas"}),e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Últimas 24 horas: ",r.filter(t=>t.acao==="TENTATIVA_LOGIN").length," tentativas"]}),e.jsx("button",{className:"mt-2 text-blue-600 hover:text-blue-500 dark:text-blue-400 text-sm",children:"Ver relatório completo →"})]}),e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 p-4 rounded-lg",children:[e.jsx("h4",{className:"font-medium text-gray-900 dark:text-white mb-2",children:"Usuários Bloqueados"}),e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Atualmente: ",r.filter(t=>t.acao==="BLOQUEIO_USUARIO").length," usuários"]}),e.jsx("button",{className:"mt-2 text-blue-600 hover:text-blue-500 dark:text-blue-400 text-sm",children:"Ver detalhes →"})]}),e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 p-4 rounded-lg",children:[e.jsx("h4",{className:"font-medium text-gray-900 dark:text-white mb-2",children:"Atividades Críticas"}),e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Hoje: ",r.filter(t=>["CRIAR_USUARIO","EDITAR_USUARIO","EXCLUIR_USUARIO"].includes(t.acao)).length," ações"]}),e.jsx("button",{className:"mt-2 text-blue-600 hover:text-blue-500 dark:text-blue-400 text-sm",children:"Ver histórico →"})]}),e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 p-4 rounded-lg",children:[e.jsx("h4",{className:"font-medium text-gray-900 dark:text-white mb-2",children:"Erros do Sistema"}),e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Últimas 24h: ",r.filter(t=>t.acao==="ERRO_SISTEMA").length," erros"]}),e.jsx("button",{className:"mt-2 text-blue-600 hover:text-blue-500 dark:text-blue-400 text-sm",children:"Ver logs de erro →"})]})]})]})]})};export{F as default};
