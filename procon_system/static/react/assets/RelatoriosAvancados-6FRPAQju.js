import{j as e}from"./main-BZolao6g.js";import{r}from"./router-Cgdj9vyr.js";import{j as w}from"./juridicoService-DAAlvtIu.js";import{u as k,L as _}from"./useNotification-DEA4U434.js";import{N as A}from"./NotificationContainer-c6X1-Mgv.js";import{F as m}from"./DocumentTextIcon-B0GYMzL8.js";import{F as R}from"./ClockIcon-CMrA9XuO.js";import{F as C}from"./CheckCircleIcon-DFajsejV.js";import{F}from"./ExclamationTriangleIcon-2kHM3Vz3.js";import{R as x,B as D,C as E,X as P,Y as M,T as g,a as S,e as h,P as B,c as T,d as L}from"./charts-mbb-U41H.js";import"./vendor-Csw2ODfV.js";import"./icons-qiKTog5F.js";import"./XMarkIcon-D1YaT3yw.js";import"./InformationCircleIcon-BpFAM9LL.js";import"./XCircleIcon-DzfOQtoz.js";function $({title:a,titleId:o,...d},l){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:l,"aria-labelledby":o},d),a?r.createElement("title",{id:o},a):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 18 9 11.25l4.306 4.306a11.95 11.95 0 0 1 5.814-5.518l2.74-1.22m0 0-5.94-2.281m5.94 2.28-2.28 5.941"}))}const O=r.forwardRef($),se=()=>{const[a,o]=r.useState(null),[d,l]=r.useState(!0),[i,p]=r.useState({periodo:"30",analista:"",tipo_processo:"",status:""}),{notifications:u,addNotification:j,removeNotification:b}=k(),n=["#0088FE","#00C49F","#FFBB28","#FF8042","#8884D8","#82CA9D"];r.useEffect(()=>{y()},[i]);const y=async()=>{try{l(!0);const s=await w.getRelatorioAvancado(i);o(s.data)}catch(s){console.error("Erro ao carregar relatório:",s),o({resumo_geral:{total_processos:45,processos_abertos:12,processos_concluidos:28,processos_atrasados:5,valor_total_causas:125e3},processos_por_mes:[{mes:"Jan",total:8,abertos:3,concluidos:5},{mes:"Fev",total:12,abertos:4,concluidos:8},{mes:"Mar",total:15,abertos:5,concluidos:10},{mes:"Abr",total:10,abertos:0,concluidos:5}],processos_por_analista:[{analista:"Dr. Silva",total:15,concluidos:12,pendentes:3},{analista:"Dra. Santos",total:12,concluidos:8,pendentes:4},{analista:"Dr. Oliveira",total:10,concluidos:6,pendentes:4},{analista:"Dra. Costa",total:8,concluidos:2,pendentes:6}],processos_por_status:[{status:"ABERTO",total:12},{status:"EM_ANALISE",total:8},{status:"RESPONDIDO",total:15},{status:"ARQUIVADO",total:10}],processos_por_prioridade:[{prioridade:"URGENTE",total:5},{prioridade:"ALTA",total:12},{prioridade:"MEDIA",total:18},{prioridade:"BAIXA",total:10}],tempo_medio_resolucao:25,taxa_conclusao:62.2,analistas_mais_ativos:[{nome:"Dr. Silva",processos:15,media_dias:22},{nome:"Dra. Santos",processos:12,media_dias:28},{nome:"Dr. Oliveira",processos:10,media_dias:30}],tipos_mais_comuns:[{tipo:"Direito do Consumidor",total:25},{tipo:"Direito Administrativo",total:12},{tipo:"Direito Civil",total:8}]}),j("Usando dados de exemplo - API não disponível","warning")}finally{l(!1)}},f=s=>{const{name:t,value:c}=s.target;p(v=>({...v,[t]:c}))},N=s=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(s);return d?e.jsx(_,{}):a?e.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[e.jsx(A,{notifications:u,onRemove:b}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsx("div",{className:"mb-8",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Relatórios Avançados"}),e.jsx("p",{className:"mt-2 text-gray-600 dark:text-gray-400",children:"Estatísticas detalhadas do módulo jurídico"})]}),e.jsxs("div",{className:"flex space-x-4",children:[e.jsxs("select",{name:"periodo",value:i.periodo,onChange:f,className:"px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white",children:[e.jsx("option",{value:"7",children:"Últimos 7 dias"}),e.jsx("option",{value:"30",children:"Últimos 30 dias"}),e.jsx("option",{value:"90",children:"Últimos 90 dias"}),e.jsx("option",{value:"365",children:"Último ano"})]}),e.jsxs("button",{onClick:()=>window.print(),className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg flex items-center",children:[e.jsx(m,{className:"h-5 w-5 mr-2"}),"Exportar"]})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-6 mb-8",children:[e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-2 bg-blue-100 dark:bg-blue-900 rounded-lg",children:e.jsx(m,{className:"h-6 w-6 text-blue-600 dark:text-blue-400"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Total de Processos"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:a.resumo_geral.total_processos})]})]})}),e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-2 bg-yellow-100 dark:bg-yellow-900 rounded-lg",children:e.jsx(R,{className:"h-6 w-6 text-yellow-600 dark:text-yellow-400"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Processos Abertos"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:a.resumo_geral.processos_abertos})]})]})}),e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-2 bg-green-100 dark:bg-green-900 rounded-lg",children:e.jsx(C,{className:"h-6 w-6 text-green-600 dark:text-green-400"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Processos Concluídos"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:a.resumo_geral.processos_concluidos})]})]})}),e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-2 bg-red-100 dark:bg-red-900 rounded-lg",children:e.jsx(F,{className:"h-6 w-6 text-red-600 dark:text-red-400"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Processos Atrasados"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:a.resumo_geral.processos_atrasados})]})]})}),e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-2 bg-purple-100 dark:bg-purple-900 rounded-lg",children:e.jsx(O,{className:"h-6 w-6 text-purple-600 dark:text-purple-400"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Valor Total"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:N(a.resumo_geral.valor_total_causas)})]})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8",children:[e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Processos por Mês"}),e.jsx(x,{width:"100%",height:300,children:e.jsxs(D,{data:a.processos_por_mes,children:[e.jsx(E,{strokeDasharray:"3 3"}),e.jsx(P,{dataKey:"mes"}),e.jsx(M,{}),e.jsx(g,{}),e.jsx(S,{}),e.jsx(h,{dataKey:"total",fill:"#3B82F6",name:"Total"}),e.jsx(h,{dataKey:"concluidos",fill:"#10B981",name:"Concluídos"})]})})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Processos por Status"}),e.jsx(x,{width:"100%",height:300,children:e.jsxs(B,{children:[e.jsx(T,{data:a.processos_por_status,cx:"50%",cy:"50%",labelLine:!1,label:({status:s,total:t})=>`${s}: ${t}`,outerRadius:80,fill:"#8884d8",dataKey:"total",children:a.processos_por_status.map((s,t)=>e.jsx(L,{fill:n[t%n.length]},`cell-${t}`))}),e.jsx(g,{})]})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8",children:[e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Analistas Mais Ativos"}),e.jsx("div",{className:"space-y-4",children:a.analistas_mais_ativos.map((s,t)=>e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:s.nome}),e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[s.processos," processos • Média: ",s.media_dias," dias"]})]}),e.jsx("div",{className:"text-right",children:e.jsx("div",{className:"w-16 h-2 bg-gray-200 dark:bg-gray-600 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-blue-600 rounded-full",style:{width:`${s.processos/Math.max(...a.analistas_mais_ativos.map(c=>c.processos))*100}%`}})})})]},t))})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Métricas de Performance"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Tempo Médio de Resolução"}),e.jsxs("span",{className:"text-sm font-bold text-gray-900 dark:text-white",children:[a.tempo_medio_resolucao," dias"]})]}),e.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-600 rounded-full h-2",children:e.jsx("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:`${Math.min(a.tempo_medio_resolucao/60*100,100)}%`}})})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Taxa de Conclusão"}),e.jsxs("span",{className:"text-sm font-bold text-gray-900 dark:text-white",children:[a.taxa_conclusao,"%"]})]}),e.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-600 rounded-full h-2",children:e.jsx("div",{className:"bg-green-600 h-2 rounded-full",style:{width:`${a.taxa_conclusao}%`}})})]}),e.jsxs("div",{children:[e.jsx("div",{className:"flex justify-between items-center mb-2",children:e.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Processos por Prioridade"})}),e.jsx("div",{className:"space-y-2",children:a.processos_por_prioridade.map((s,t)=>e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:s.prioridade}),e.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:s.total})]},t))})]})]})]})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Tipos de Processo Mais Comuns"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:a.tipos_mais_comuns.map((s,t)=>e.jsxs("div",{className:"text-center p-4 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400 mb-2",children:s.total}),e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:s.tipo})]},t))})]})]})]}):e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Erro ao carregar relatório"})})};export{se as default};
