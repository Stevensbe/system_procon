import{b as s}from"./main-BlGnCLHT.js";class c{constructor(){this.baseURL="/api/recursos-defesas/"}async obterEstatisticas(){try{return(await s.get(`${this.baseURL}estatisticas/`)).data}catch(r){throw console.error("Erro ao obter estatísticas:",r),r}}async obterRecursosRecentes(r=10){try{return(await s.get(`${this.baseURL}recursos-recentes/`,{params:{limit:r}})).data}catch(e){throw console.error("Erro ao obter recursos recentes:",e),e}}async obterAdvogadosTop(r=10){try{return(await s.get(`${this.baseURL}advogados-top/`,{params:{limit:r}})).data}catch(e){throw console.error("Erro ao obter advogados top:",e),e}}async obterRecursosPorTipo(){try{return(await s.get(`${this.baseURL}recursos-por-tipo/`)).data}catch(r){throw console.error("Erro ao obter recursos por tipo:",r),r}}async obterRecursosPorStatus(){try{return(await s.get(`${this.baseURL}recursos-por-status/`)).data}catch(r){throw console.error("Erro ao obter recursos por status:",r),r}}async obterTendenciaMensal(){try{return(await s.get(`${this.baseURL}tendencia-mensal/`)).data}catch(r){throw console.error("Erro ao obter tendência mensal:",r),r}}async listarRecursos(r={}){try{return(await s.get(`${this.baseURL}recursos/`,{params:r})).data}catch(e){throw console.error("Erro ao listar recursos:",e),e}}async obterRecurso(r){try{return(await s.get(`${this.baseURL}recursos/${r}/`)).data}catch(e){throw console.error("Erro ao obter recurso:",e),e}}async criarRecurso(r){try{return(await s.post(`${this.baseURL}recursos/`,r)).data}catch(e){throw console.error("Erro ao criar recurso:",e),e}}async atualizarRecurso(r,e){try{return(await s.put(`${this.baseURL}recursos/${r}/`,e)).data}catch(o){throw console.error("Erro ao atualizar recurso:",o),o}}async deletarRecurso(r){try{return await s.delete(`${this.baseURL}recursos/${r}/`),!0}catch(e){throw console.error("Erro ao deletar recurso:",e),e}}async filtrarRecursos(r){try{return(await s.get(`${this.baseURL}filtrar/`,{params:r})).data}catch(e){throw console.error("Erro ao filtrar recursos:",e),e}}async buscarRecursos(r){try{return(await s.get(`${this.baseURL}buscar/`,{params:{q:r}})).data}catch(e){throw console.error("Erro ao buscar recursos:",e),e}}async listarAdvogados(){try{return(await s.get(`${this.baseURL}advogados/`)).data}catch(r){throw console.error("Erro ao listar advogados:",r),r}}async obterAdvogado(r){try{return(await s.get(`${this.baseURL}advogados/${r}/`)).data}catch(e){throw console.error("Erro ao obter advogado:",e),e}}async criarAdvogado(r){try{return(await s.post(`${this.baseURL}advogados/`,r)).data}catch(e){throw console.error("Erro ao criar advogado:",e),e}}async atualizarAdvogado(r,e){try{return(await s.put(`${this.baseURL}advogados/${r}/`,e)).data}catch(o){throw console.error("Erro ao atualizar advogado:",o),o}}async deletarAdvogado(r){try{return await s.delete(`${this.baseURL}advogados/${r}/`),!0}catch(e){throw console.error("Erro ao deletar advogado:",e),e}}async listarDefesas(r){try{return(await s.get(`${this.baseURL}recursos/${r}/defesas/`)).data}catch(e){throw console.error("Erro ao listar defesas:",e),e}}async criarDefesa(r,e){try{return(await s.post(`${this.baseURL}recursos/${r}/defesas/`,e)).data}catch(o){throw console.error("Erro ao criar defesa:",o),o}}async atualizarDefesa(r,e,o){try{return(await s.put(`${this.baseURL}recursos/${r}/defesas/${e}/`,o)).data}catch(a){throw console.error("Erro ao atualizar defesa:",a),a}}async deletarDefesa(r,e){try{return await s.delete(`${this.baseURL}recursos/${r}/defesas/${e}/`),!0}catch(o){throw console.error("Erro ao deletar defesa:",o),o}}async uploadDocumento(r,e,o="DEFESA"){try{const a=new FormData;return a.append("arquivo",e),a.append("tipo",o),(await s.post(`${this.baseURL}recursos/${r}/documentos/`,a,{headers:{"Content-Type":"multipart/form-data"}})).data}catch(a){throw console.error("Erro ao fazer upload do documento:",a),a}}async listarDocumentos(r){try{return(await s.get(`${this.baseURL}recursos/${r}/documentos/`)).data}catch(e){throw console.error("Erro ao listar documentos:",e),e}}async deletarDocumento(r,e){try{return await s.delete(`${this.baseURL}recursos/${r}/documentos/${e}/`),!0}catch(o){throw console.error("Erro ao deletar documento:",o),o}}async iniciarTramitacao(r,e){try{return(await s.post(`${this.baseURL}recursos/${r}/tramitar/`,e)).data}catch(o){throw console.error("Erro ao iniciar tramitação:",o),o}}async alterarStatus(r,e,o=""){try{return(await s.post(`${this.baseURL}recursos/${r}/status/`,{status:e,observacoes:o})).data}catch(a){throw console.error("Erro ao alterar status:",a),a}}async emitirParecer(r,e){try{return(await s.post(`${this.baseURL}recursos/${r}/parecer/`,e)).data}catch(o){throw console.error("Erro ao emitir parecer:",o),o}}async gerarRelatorio(r={}){try{return(await s.get(`${this.baseURL}relatorios/`,{params:r})).data}catch(e){throw console.error("Erro ao gerar relatório:",e),e}}async exportarRecursos(r="excel",e={}){try{return(await s.get(`${this.baseURL}exportar/`,{params:{formato:r,...e},responseType:"blob"})).data}catch(o){throw console.error("Erro ao exportar recursos:",o),o}}async enviarNotificacao(r,e,o){try{return(await s.post(`${this.baseURL}recursos/${r}/notificar/`,{tipo:e,destinatarios:o})).data}catch(a){throw console.error("Erro ao enviar notificação:",a),a}}validarDadosRecurso(r){const e=[];return r.numero_processo_origem||e.push("Número do processo de origem é obrigatório"),r.requerente_nome||e.push("Nome do requerente é obrigatório"),r.requerente_documento||e.push("Documento do requerente é obrigatório"),r.fundamentacao||e.push("Fundamentação do recurso é obrigatória"),r.pedidos||e.push("Pedidos do recurso são obrigatórios"),e}formatarStatus(r){return{PENDENTE:"Pendente",EM_ANALISE:"Em Análise",DEFERIDO:"Deferido",INDEFERIDO:"Indeferido",PARCIALMENTE_DEFERIDO:"Parcialmente Deferido"}[r]||r}formatarTipo(r){return{MULTA:"Multa",AUTO_INFRACAO:"Auto de Infração",DECISAO_ADMINISTRATIVA:"Decisão Administrativa",OUTROS:"Outros"}[r]||r}getStatusColor(r){return{PENDENTE:"#f59e0b",EM_ANALISE:"#3b82f6",DEFERIDO:"#10b981",INDEFERIDO:"#ef4444",PARCIALMENTE_DEFERIDO:"#d97706"}[r]||"#6b7280"}getTipoColor(r){return{MULTA:"#ef4444",AUTO_INFRACAO:"#f59e0b",DECISAO_ADMINISTRATIVA:"#3b82f6",OUTROS:"#6b7280"}[r]||"#6b7280"}formatarData(r){return r?new Date(r).toLocaleString("pt-BR"):"N/A"}formatarValor(r){return r?new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(r):"N/A"}formatarNumeroRecurso(r){if(!r)return"";const e=r.toString().replace(/[^\d]/g,"");if(e.length>=7){const o=e.substring(0,4),a=e.substring(4);return`REC-${o}-${a.padStart(7,"0")}`}return r}calcularDiasRecurso(r){if(!r)return 0;const e=new Date(r),a=Math.abs(new Date-e);return Math.ceil(a/(1e3*60*60*24))}verificarAtraso(r,e){return!r||!e?!1:this.calcularDiasRecurso(r)>e}calcularPrazoRestante(r,e){if(!r||!e)return 0;const o=this.calcularDiasRecurso(r);return Math.max(0,e-o)}formatarPrazo(r){return r<=0?{label:"Em atraso",color:"red",icon:"🚨"}:r<=5?{label:`${r} dias`,color:"orange",icon:"⚠️"}:r<=15?{label:`${r} dias`,color:"yellow",icon:"⏰"}:{label:`${r} dias`,color:"green",icon:"✅"}}async listarProcessos(){try{const r=await s.get("/api/processos/");return r.data.results||r.data||[]}catch(r){return console.error("Erro ao listar processos:",r),[]}}async listarAdvogados(){try{const r=await s.get("/api/advogados/");return r.data.results||r.data||[]}catch(r){return console.error("Erro ao listar advogados:",r),[]}}}const u=new c;export{u as r};
