import{j as e}from"./main-BZolao6g.js";import{u as j,a as k,r as o}from"./router-Cgdj9vyr.js";import{F as f}from"./ArrowLeftIcon-C_0pt37t.js";import{F as w}from"./DocumentTextIcon-B0GYMzL8.js";import"./vendor-Csw2ODfV.js";import"./icons-qiKTog5F.js";const A=()=>{const c=j(),{id:n}=k(),l=!!n,[u,g]=o.useState(!1),[m,x]=o.useState(!1),[r,i]=o.useState({numero:"",tipo:"",dataFiscalizacao:"",fiscalResponsavel:"",empresa:{razaoSocial:"",cnpj:"",endereco:"",cidade:"",estado:""},irregularidades:[],observacoes:"",valorMulta:0}),[N,S]=o.useState([]);o.useEffect(()=>{l?h():y()},[l,n]);const h=async()=>{g(!0);try{i({numero:"2024/001234",tipo:"banco",dataFiscalizacao:"2024-06-15",fiscalResponsavel:"João Silva",empresa:{razaoSocial:"Banco XYZ Ltda",cnpj:"12.345.678/0001-90",endereco:"Rua das Flores, 123",cidade:"São Paulo",estado:"SP"},irregularidades:[],observacoes:"Fiscalização realizada conforme planejado.",valorMulta:8e3})}catch(a){console.error("Erro ao carregar dados do auto:",a)}finally{g(!1)}},y=()=>{const a=new Date().getFullYear(),s=Math.floor(Math.random()*9999).toString().padStart(4,"0");i(d=>({...d,numero:`${a}/${s}`}))},t=(a,s)=>{if(a.includes(".")){const[d,v]=a.split(".");i(b=>({...b,[d]:{...b[d],[v]:s}}))}else i(d=>({...d,[a]:s}))},p=async a=>{a.preventDefault(),x(!0);try{await new Promise(s=>setTimeout(s,2e3)),c("/fiscalizacao/autos")}catch(s){console.error("Erro ao salvar auto:",s)}finally{x(!1)}};return u?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-lg p-6 border border-gray-200 dark:border-gray-700",children:e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("button",{onClick:()=>c("/fiscalizacao"),className:"mr-4 p-2 text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white",children:e.jsx(f,{className:"h-5 w-5"})}),e.jsx("div",{children:e.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:l?"Editar Auto de Infração":"Novo Auto de Infração"})})]})})}),e.jsxs("form",{onSubmit:p,className:"space-y-6",children:[e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-lg p-6 border border-gray-200 dark:border-gray-700",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Informações Básicas"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Número do Auto"}),e.jsx("input",{type:"text",value:r.numero,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white",readOnly:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Tipo de Auto"}),e.jsxs("select",{value:r.tipo,onChange:a=>t("tipo",a.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[e.jsx("option",{value:"",children:"Selecione..."}),e.jsx("option",{value:"banco",children:"Banco"}),e.jsx("option",{value:"posto",children:"Posto de Combustível"}),e.jsx("option",{value:"supermercado",children:"Supermercado"}),e.jsx("option",{value:"diversos",children:"Diversos"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Data da Fiscalização"}),e.jsx("input",{type:"date",value:r.dataFiscalizacao,onChange:a=>t("dataFiscalizacao",a.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Fiscal Responsável"}),e.jsx("input",{type:"text",value:r.fiscalResponsavel,onChange:a=>t("fiscalResponsavel",a.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"Nome do fiscal"})]})]})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-lg p-6 border border-gray-200 dark:border-gray-700",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Dados da Empresa"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Razão Social"}),e.jsx("input",{type:"text",value:r.empresa.razaoSocial,onChange:a=>t("empresa.razaoSocial",a.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"Razão social da empresa"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"CNPJ"}),e.jsx("input",{type:"text",value:r.empresa.cnpj,onChange:a=>t("empresa.cnpj",a.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"00.000.000/0000-00"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Endereço"}),e.jsx("input",{type:"text",value:r.empresa.endereco,onChange:a=>t("empresa.endereco",a.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"Endereço completo"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Cidade"}),e.jsx("input",{type:"text",value:r.empresa.cidade,onChange:a=>t("empresa.cidade",a.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"Cidade"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Estado"}),e.jsx("input",{type:"text",value:r.empresa.estado,onChange:a=>t("empresa.estado",a.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"UF"})]})]})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-lg p-6 border border-gray-200 dark:border-gray-700",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Observações"}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Observações"}),e.jsx("textarea",{value:r.observacoes,onChange:a=>t("observacoes",a.target.value),rows:4,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"Observações sobre a fiscalização..."})]})]}),e.jsxs("div",{className:"flex justify-end space-x-4",children:[e.jsx("button",{type:"button",onClick:()=>c("/fiscalizacao/autos"),className:"px-6 py-2 border border-gray-300 dark:border-gray-600 rounded-md text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700",children:"Cancelar"}),e.jsx("button",{type:"submit",disabled:m,className:"flex items-center px-6 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50",children:m?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Salvando..."]}):e.jsxs(e.Fragment,{children:[e.jsx(w,{className:"h-4 w-4 mr-2"}),l?"Atualizar":"Salvar"," Auto"]})})]})]})]})};export{A as default};
