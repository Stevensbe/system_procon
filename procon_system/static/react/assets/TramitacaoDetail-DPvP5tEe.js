import{j as e}from"./main-CRMJS0Wv.js";import{a as R,u as P,r as o,L as c}from"./router-Cgdj9vyr.js";import{u as D,L as T}from"./useNotification-40lGQRQ-.js";import{F}from"./ArrowLeftIcon-C_0pt37t.js";import{F as A}from"./PencilIcon-1hDDva8l.js";import{F as C}from"./DocumentTextIcon-B0GYMzL8.js";import{F as S}from"./BuildingOffice2Icon-DedMWtEd.js";import{F as $}from"./ScaleIcon-CDQgDKJ-.js";import{F as n}from"./PaperClipIcon-rfQraQ7W.js";import{F as L}from"./EyeIcon-xG4b5U4j.js";import{F as E}from"./ArrowDownTrayIcon-HcFhs88N.js";import{F as O}from"./ClockIcon-CMrA9XuO.js";import{F as x}from"./ExclamationTriangleIcon-2kHM3Vz3.js";import{F as M}from"./CheckCircleIcon-DFajsejV.js";import"./vendor-Csw2ODfV.js";import"./icons-qiKTog5F.js";const te=()=>{const{id:i}=R();P();const[m,g]=o.useState(!0),[a,h]=o.useState(null),[l,p]=o.useState([]),{showNotification:d}=D();o.useEffect(()=>{b(),y()},[i]);const b=async()=>{try{await new Promise(r=>setTimeout(r,1e3));const t={id:parseInt(i),protocolo:"TRAM-2024-001",processo:{numero:"2024001",interessado:"João Silva",cpfCnpj:"123.456.789-00",assunto:"Reclamação contra empresa XYZ"},tipoTramitacao:"encaminhamento",tipoLabel:"Encaminhamento",orgaoOrigem:{nome:"PROCON Municipal",sigla:"PROCON"},orgaoDestino:{nome:"Ministério Público",sigla:"MP"},responsavelOrigem:{nome:"Ana Silva",cargo:"Fiscal",email:"ana@procon.gov.br"},responsavelDestino:{nome:"Carlos Santos",cargo:"Promotor",email:"carlos@mp.gov.br"},dataEnvio:"2024-08-27T10:30:00",prazoResposta:"2024-09-10T23:59:00",prioridade:"alta",prioridadeLabel:"Alta",prioridadeColor:"text-yellow-600 bg-yellow-100",status:"em_andamento",statusLabel:"Em Andamento",statusColor:"text-blue-600 bg-blue-100",assunto:"Análise de processo administrativo para possível abertura de PAC",motivoTramitacao:"O processo apresenta indícios de prática comercial abusiva que pode configurar crime contra as relações de consumo, necessitando análise do Ministério Público para eventual instauração de procedimento administrativo criminal.",acao:"Analisar o processo e verificar a necessidade de instauração de PAC (Procedimento Administrativo Criminal) contra a empresa fornecedora.",observacoes:"Urgente - consumidores relataram problemas graves de saúde.",protocoloInterno:"PROT-2024-001",protocoloExterno:"MP-2024-12345",dataRecebimento:"2024-08-28T14:20:00",documentosAnexos:[{id:1,nome:"Processo_Original.pdf",tamanho:"2.5 MB",tipo:"application/pdf",dataUpload:"2024-08-27T10:30:00"},{id:2,nome:"Laudo_Tecnico.pdf",tamanho:"1.8 MB",tipo:"application/pdf",dataUpload:"2024-08-27T10:32:00"},{id:3,nome:"Fotos_Evidencias.zip",tamanho:"15.2 MB",tipo:"application/zip",dataUpload:"2024-08-27T10:35:00"}]};h(t)}catch{d("Erro ao carregar tramitação","error")}finally{g(!1)}},y=async()=>{try{p([{id:1,data:"2024-08-28T16:45:00",usuario:"Carlos Santos",acao:"Processo recebido e distribuído",detalhes:"Processo distribuído para análise da Promotoria de Defesa do Consumidor",status:"info"},{id:2,data:"2024-08-28T14:20:00",usuario:"Sistema",acao:"Processo recebido pelo órgão de destino",detalhes:"Confirmação automática de recebimento",status:"success"},{id:3,data:"2024-08-27T10:30:00",usuario:"Ana Silva",acao:"Processo enviado",detalhes:"Tramitação iniciada com prioridade alta",status:"info"},{id:4,data:"2024-08-27T10:25:00",usuario:"Ana Silva",acao:"Tramitação criada",detalhes:"Nova tramitação registrada no sistema",status:"info"}])}catch(t){console.error("Erro ao carregar histórico:",t)}},u=t=>{switch(t){case"pendente":return"text-yellow-600 bg-yellow-100 dark:bg-yellow-900 dark:text-yellow-200";case"em_andamento":return"text-blue-600 bg-blue-100 dark:bg-blue-900 dark:text-blue-200";case"concluido":return"text-green-600 bg-green-100 dark:bg-green-900 dark:text-green-200";case"cancelado":return"text-red-600 bg-red-100 dark:bg-red-900 dark:text-red-200";default:return"text-gray-600 bg-gray-100 dark:bg-gray-700 dark:text-gray-300"}},j=t=>{switch(t){case"baixa":return"text-green-600 bg-green-100 dark:bg-green-900 dark:text-green-200";case"normal":return"text-blue-600 bg-blue-100 dark:bg-blue-900 dark:text-blue-200";case"alta":return"text-yellow-600 bg-yellow-100 dark:bg-yellow-900 dark:text-yellow-200";case"urgente":return"text-red-600 bg-red-100 dark:bg-red-900 dark:text-red-200";default:return"text-gray-600 bg-gray-100 dark:bg-gray-700 dark:text-gray-300"}},N=t=>{switch(t){case"success":return e.jsx(M,{className:"w-5 h-5 text-green-500"});case"warning":return e.jsx(x,{className:"w-5 h-5 text-yellow-500"});case"error":return e.jsx(x,{className:"w-5 h-5 text-red-500"});default:return e.jsx(O,{className:"w-5 h-5 text-blue-500"})}},k=t=>{d(`Download iniciado: ${t.nome}`,"success")},f=t=>{d(`Visualizando: ${t.nome}`,"info")},v=t=>{if(!t)return null;const r=new Date,w=new Date(t)-r;return Math.ceil(w/(1e3*60*60*24))};if(m)return e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx(T,{})});if(!a)return e.jsx("div",{className:"text-center py-8",children:e.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Tramitação não encontrada."})});const s=v(a.prazoResposta);return e.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 py-8",children:e.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"mb-8 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx(c,{to:"/tramitacao/lista",className:"p-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors",children:e.jsx(F,{className:"w-6 h-6"})}),e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:["Tramitação ",a.protocolo]}),e.jsxs("p",{className:"mt-2 text-gray-600 dark:text-gray-400",children:["Detalhes da tramitação do processo ",a.processo.numero]})]})]}),e.jsx("div",{className:"flex items-center space-x-3",children:e.jsxs(c,{to:`/tramitacao/${i}/editar`,className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[e.jsx(A,{className:"w-5 h-5 mr-2"}),"Editar"]})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[e.jsxs("div",{className:"bg-white dark:bg-gray-800 shadow rounded-lg",children:[e.jsx("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700",children:e.jsxs("h2",{className:"text-lg font-medium text-gray-900 dark:text-white flex items-center",children:[e.jsx(C,{className:"w-5 h-5 mr-2"}),"Informações da Tramitação"]})}),e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Protocolo"}),e.jsx("p",{className:"text-sm text-gray-900 dark:text-white font-mono",children:a.protocolo})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Tipo de Tramitação"}),e.jsx("p",{className:"text-sm text-gray-900 dark:text-white",children:a.tipoLabel})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Status"}),e.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${u(a.status)}`,children:a.statusLabel})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Prioridade"}),e.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${j(a.prioridade)}`,children:a.prioridadeLabel})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Data de Envio"}),e.jsx("p",{className:"text-sm text-gray-900 dark:text-white",children:new Date(a.dataEnvio).toLocaleString("pt-BR")})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Prazo de Resposta"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-900 dark:text-white",children:new Date(a.prazoResposta).toLocaleString("pt-BR")}),s!==null&&e.jsx("p",{className:`text-xs ${s>5?"text-green-600":s>0?"text-yellow-600":"text-red-600"}`,children:s>0?`${s} dias restantes`:s===0?"Vence hoje":`${Math.abs(s)} dias em atraso`})]})]}),a.dataRecebimento&&e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Data de Recebimento"}),e.jsx("p",{className:"text-sm text-gray-900 dark:text-white",children:new Date(a.dataRecebimento).toLocaleString("pt-BR")})]})]})})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 shadow rounded-lg",children:[e.jsx("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700",children:e.jsxs("h2",{className:"text-lg font-medium text-gray-900 dark:text-white flex items-center",children:[e.jsx(S,{className:"w-5 h-5 mr-2"}),"Órgãos e Responsáveis"]})}),e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-4",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-900 dark:text-white mb-3",children:"Origem"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 dark:text-gray-300",children:"Órgão"}),e.jsxs("p",{className:"text-sm text-gray-900 dark:text-white",children:[a.orgaoOrigem.nome," (",a.orgaoOrigem.sigla,")"]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 dark:text-gray-300",children:"Responsável"}),e.jsx("p",{className:"text-sm text-gray-900 dark:text-white",children:a.responsavelOrigem.nome}),e.jsxs("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:[a.responsavelOrigem.cargo," - ",a.responsavelOrigem.email]})]})]})]}),e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-4",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-900 dark:text-white mb-3",children:"Destino"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 dark:text-gray-300",children:"Órgão"}),e.jsxs("p",{className:"text-sm text-gray-900 dark:text-white",children:[a.orgaoDestino.nome," (",a.orgaoDestino.sigla,")"]})]}),a.responsavelDestino&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 dark:text-gray-300",children:"Responsável"}),e.jsx("p",{className:"text-sm text-gray-900 dark:text-white",children:a.responsavelDestino.nome}),e.jsxs("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:[a.responsavelDestino.cargo," - ",a.responsavelDestino.email]})]})]})]})]})})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 shadow rounded-lg",children:[e.jsx("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700",children:e.jsxs("h2",{className:"text-lg font-medium text-gray-900 dark:text-white flex items-center",children:[e.jsx($,{className:"w-5 h-5 mr-2"}),"Detalhes da Tramitação"]})}),e.jsxs("div",{className:"p-6 space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Assunto"}),e.jsx("p",{className:"text-sm text-gray-900 dark:text-white",children:a.assunto})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Motivo da Tramitação"}),e.jsx("p",{className:"text-sm text-gray-900 dark:text-white whitespace-pre-wrap",children:a.motivoTramitacao})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Ação Solicitada"}),e.jsx("p",{className:"text-sm text-gray-900 dark:text-white whitespace-pre-wrap",children:a.acao})]}),a.observacoes&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Observações"}),e.jsx("p",{className:"text-sm text-gray-900 dark:text-white whitespace-pre-wrap",children:a.observacoes})]})]})]}),a.documentosAnexos&&a.documentosAnexos.length>0&&e.jsxs("div",{className:"bg-white dark:bg-gray-800 shadow rounded-lg",children:[e.jsx("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700",children:e.jsxs("h2",{className:"text-lg font-medium text-gray-900 dark:text-white flex items-center",children:[e.jsx(n,{className:"w-5 h-5 mr-2"}),"Documentos Anexos (",a.documentosAnexos.length,")"]})}),e.jsx("div",{className:"p-6",children:e.jsx("div",{className:"space-y-3",children:a.documentosAnexos.map(t=>e.jsxs("div",{className:"flex items-center justify-between p-3 border border-gray-200 dark:border-gray-700 rounded-md",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(n,{className:"w-5 h-5 text-gray-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:t.nome}),e.jsxs("p",{className:"text-xs text-gray-500",children:[t.tamanho," • ",new Date(t.dataUpload).toLocaleString("pt-BR")]})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>f(t),className:"text-blue-600 hover:text-blue-900 dark:text-blue-400",title:"Visualizar",children:e.jsx(L,{className:"w-5 h-5"})}),e.jsx("button",{onClick:()=>k(t),className:"text-green-600 hover:text-green-900 dark:text-green-400",title:"Download",children:e.jsx(E,{className:"w-5 h-5"})})]})]},t.id))})})]})]}),e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"bg-white dark:bg-gray-800 shadow rounded-lg",children:[e.jsx("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700",children:e.jsx("h2",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"Processo Relacionado"})}),e.jsxs("div",{className:"p-6 space-y-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 dark:text-gray-300",children:"Número"}),e.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:a.processo.numero})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 dark:text-gray-300",children:"Interessado"}),e.jsx("p",{className:"text-sm text-gray-900 dark:text-white",children:a.processo.interessado})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 dark:text-gray-300",children:"CPF/CNPJ"}),e.jsx("p",{className:"text-sm text-gray-900 dark:text-white",children:a.processo.cpfCnpj})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 dark:text-gray-300",children:"Assunto"}),e.jsx("p",{className:"text-sm text-gray-900 dark:text-white",children:a.processo.assunto})]})]})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 shadow rounded-lg",children:[e.jsx("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700",children:e.jsx("h2",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"Protocolos"})}),e.jsxs("div",{className:"p-6 space-y-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 dark:text-gray-300",children:"Protocolo Interno"}),e.jsx("p",{className:"text-sm font-mono text-gray-900 dark:text-white",children:a.protocoloInterno||"Não informado"})]}),a.protocoloExterno&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 dark:text-gray-300",children:"Protocolo Externo"}),e.jsx("p",{className:"text-sm font-mono text-gray-900 dark:text-white",children:a.protocoloExterno})]})]})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 shadow rounded-lg",children:[e.jsx("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700",children:e.jsx("h2",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"Histórico"})}),e.jsx("div",{className:"p-6",children:e.jsx("div",{className:"flow-root",children:e.jsx("ul",{className:"-mb-8",children:l.map((t,r)=>e.jsx("li",{children:e.jsxs("div",{className:"relative pb-8",children:[r!==l.length-1&&e.jsx("span",{className:"absolute top-4 left-4 -ml-px h-full w-0.5 bg-gray-200 dark:bg-gray-600"}),e.jsxs("div",{className:"relative flex space-x-3",children:[e.jsx("div",{children:e.jsx("span",{className:"h-8 w-8 rounded-full flex items-center justify-center ring-8 ring-white dark:ring-gray-800 bg-gray-100 dark:bg-gray-700",children:N(t.status)})}),e.jsxs("div",{className:"min-w-0 flex-1 pt-1.5 flex justify-between space-x-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-900 dark:text-white",children:t.acao}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:t.detalhes}),e.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:["por ",t.usuario]})]}),e.jsx("div",{className:"text-right text-xs text-gray-500 dark:text-gray-400 whitespace-nowrap",children:new Date(t.data).toLocaleString("pt-BR")})]})]})]})},t.id))})})})]})]})]})]})})};export{te as default};
