import{j as e}from"./main-CRMJS0Wv.js";import{r as o,L as h,R as T}from"./router-Cgdj9vyr.js";import{F as U}from"./PlusIcon-CPn5D4W5.js";import{F as I}from"./FunnelIcon-C9OgRzwO.js";import{F as q}from"./MagnifyingGlassIcon-C-bifEwt.js";import{F as c}from"./ArrowUpIcon-DBFaTIWb.js";import{F as x}from"./ArrowDownIcon-DqDsK2h8.js";import{F as J}from"./UserIcon-CLBajSSa.js";import{F as P}from"./PhoneIcon-C56NHpl0.js";import{F as z}from"./ShieldCheckIcon-D33VjtLu.js";import{F as b}from"./ExclamationTriangleIcon-2kHM3Vz3.js";import{F as B}from"./EyeIcon-xG4b5U4j.js";import{F as V}from"./PencilIcon-1hDDva8l.js";import{F as v}from"./XCircleIcon-DzfOQtoz.js";import{F as w}from"./CheckCircleIcon-DFajsejV.js";import{F as G}from"./TrashIcon-C5Jkp8xz.js";import{F as O}from"./ClockIcon-CMrA9XuO.js";import"./vendor-Csw2ODfV.js";import"./icons-qiKTog5F.js";const ce=()=>{const[k,u]=o.useState(!0),[p,g]=o.useState([]),[f,j]=o.useState([]),[r,y]=o.useState({search:"",perfil:"",status:"",dataInicio:"",dataFim:""}),[s,N]=o.useState({key:"nome",direction:"asc"});o.useEffect(()=>{F()},[]),o.useEffect(()=>{C()},[p,r,s]);const F=async()=>{u(!0);try{g([{id:1,nome:"João Silva",email:"joao.silva@procon.gov.br",telefone:"(11) 99999-9999",perfil:"Administrador",status:"ativo",ultimoAcesso:"2024-01-15T10:30:00",dataCriacao:"2023-01-15",departamento:"TI",cargo:"Administrador de Sistemas",tentativasLogin:0,bloqueado:!1,foto:null},{id:2,nome:"Maria Santos",email:"maria.santos@procon.gov.br",telefone:"(11) 88888-8888",perfil:"Fiscal",status:"ativo",ultimoAcesso:"2024-01-15T09:15:00",dataCriacao:"2023-02-20",departamento:"Fiscalização",cargo:"Fiscal",tentativasLogin:0,bloqueado:!1,foto:null},{id:3,nome:"Pedro Costa",email:"pedro.costa@procon.gov.br",telefone:"(11) 77777-7777",perfil:"Analista Jurídico",status:"ativo",ultimoAcesso:"2024-01-14T16:45:00",dataCriacao:"2023-03-10",departamento:"Jurídico",cargo:"Analista Jurídico",tentativasLogin:0,bloqueado:!1,foto:null},{id:4,nome:"Ana Oliveira",email:"ana.oliveira@procon.gov.br",telefone:"(11) 66666-6666",perfil:"Secretário",status:"inativo",ultimoAcesso:"2024-01-10T14:20:00",dataCriacao:"2023-04-05",departamento:"Administrativo",cargo:"Secretária",tentativasLogin:3,bloqueado:!0,foto:null},{id:5,nome:"Carlos Lima",email:"carlos.lima@procon.gov.br",telefone:"(11) 55555-5555",perfil:"Coordenador",status:"ativo",ultimoAcesso:"2024-01-15T11:00:00",dataCriacao:"2023-05-12",departamento:"Coordenação",cargo:"Coordenador",tentativasLogin:0,bloqueado:!1,foto:null},{id:6,nome:"Lucia Ferreira",email:"lucia.ferreira@procon.gov.br",telefone:"(11) 44444-4444",perfil:"Estagiário",status:"pendente",ultimoAcesso:null,dataCriacao:"2024-01-10",departamento:"Jurídico",cargo:"Estagiário",tentativasLogin:0,bloqueado:!1,foto:null}])}catch(t){console.error("Erro ao carregar usuários:",t)}finally{u(!1)}},C=()=>{let t=[...p];if(r.search){const a=r.search.toLowerCase();t=t.filter(i=>i.nome.toLowerCase().includes(a)||i.email.toLowerCase().includes(a)||i.departamento.toLowerCase().includes(a)||i.cargo.toLowerCase().includes(a))}r.perfil&&(t=t.filter(a=>a.perfil===r.perfil)),r.status&&(t=t.filter(a=>a.status===r.status)),r.dataInicio&&(t=t.filter(a=>new Date(a.dataCriacao)>=new Date(r.dataInicio))),r.dataFim&&(t=t.filter(a=>new Date(a.dataCriacao)<=new Date(r.dataFim))),t.sort((a,i)=>{let n=a[s.key],m=i[s.key];return typeof n=="string"&&(n=n.toLowerCase(),m=m.toLowerCase()),n<m?s.direction==="asc"?-1:1:n>m?s.direction==="asc"?1:-1:0}),j(t)},d=(t,a)=>{y(i=>({...i,[t]:a}))},l=t=>{N(a=>({key:t,direction:a.key===t&&a.direction==="asc"?"desc":"asc"}))},A=t=>{switch(t){case"ativo":return"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400";case"inativo":return"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400";case"pendente":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-400";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900/20 dark:text-gray-400"}},L=t=>{switch(t){case"ativo":return w;case"inativo":return v;case"pendente":return O;default:return b}},R=t=>{switch(t){case"Administrador":return"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400";case"Fiscal":return"bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-400";case"Analista Jurídico":return"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400";case"Secretário":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-400";case"Coordenador":return"bg-purple-100 text-purple-800 dark:bg-purple-900/20 dark:text-purple-400";case"Estagiário":return"bg-pink-100 text-pink-800 dark:bg-pink-900/20 dark:text-pink-400";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900/20 dark:text-gray-400"}},S=t=>t?new Date(t).toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}):"Nunca",$=t=>t?new Date(t).toLocaleDateString("pt-BR"):"N/A",D=t=>{window.confirm("Tem certeza que deseja excluir este usuário?")&&g(a=>a.filter(i=>i.id!==t))},E=t=>{g(a=>a.map(i=>i.id===t?{...i,status:i.status==="ativo"?"inativo":"ativo"}:i))};return k?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-lg p-6 border border-gray-200 dark:border-gray-700",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Gestão de Usuários"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-300 mt-1",children:"Gerencie usuários, permissões e acessos ao sistema"})]}),e.jsxs(h,{to:"/usuarios/novo",className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 text-sm",children:[e.jsx(U,{className:"h-4 w-4 mr-2"}),"Novo Usuário"]})]})}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-lg p-6 border border-gray-200 dark:border-gray-700",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx(I,{className:"h-5 w-5 text-gray-500 dark:text-gray-400 mr-2"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Filtros"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(q,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Buscar usuários...",value:r.search,onChange:t=>d("search",t.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),e.jsxs("select",{value:r.perfil,onChange:t=>d("perfil",t.target.value),className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white text-sm",children:[e.jsx("option",{value:"",children:"Todos os perfis"}),e.jsx("option",{value:"Administrador",children:"Administrador"}),e.jsx("option",{value:"Fiscal",children:"Fiscal"}),e.jsx("option",{value:"Analista Jurídico",children:"Analista Jurídico"}),e.jsx("option",{value:"Secretário",children:"Secretário"}),e.jsx("option",{value:"Coordenador",children:"Coordenador"}),e.jsx("option",{value:"Estagiário",children:"Estagiário"})]}),e.jsxs("select",{value:r.status,onChange:t=>d("status",t.target.value),className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white text-sm",children:[e.jsx("option",{value:"",children:"Todos os status"}),e.jsx("option",{value:"ativo",children:"Ativo"}),e.jsx("option",{value:"inativo",children:"Inativo"}),e.jsx("option",{value:"pendente",children:"Pendente"})]}),e.jsx("input",{type:"date",value:r.dataInicio,onChange:t=>d("dataInicio",t.target.value),className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white text-sm"}),e.jsx("input",{type:"date",value:r.dataFim,onChange:t=>d("dataFim",t.target.value),className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white text-sm"})]}),e.jsxs("div",{className:"mt-4 flex items-center justify-between",children:[e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[f.length," usuário(s) encontrado(s)"]}),e.jsx("button",{onClick:()=>y({search:"",perfil:"",status:"",dataInicio:"",dataFim:""}),className:"text-sm text-blue-600 dark:text-blue-400 hover:underline",children:"Limpar filtros"})]})]}),e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-lg border border-gray-200 dark:border-gray-700 overflow-hidden",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[e.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:e.jsxs("button",{onClick:()=>l("nome"),className:"flex items-center hover:text-gray-700 dark:hover:text-gray-100",children:["Usuário",s.key==="nome"&&(s.direction==="asc"?e.jsx(c,{className:"h-4 w-4 ml-1"}):e.jsx(x,{className:"h-4 w-4 ml-1"}))]})}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:e.jsxs("button",{onClick:()=>l("perfil"),className:"flex items-center hover:text-gray-700 dark:hover:text-gray-100",children:["Perfil",s.key==="perfil"&&(s.direction==="asc"?e.jsx(c,{className:"h-4 w-4 ml-1"}):e.jsx(x,{className:"h-4 w-4 ml-1"}))]})}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:e.jsxs("button",{onClick:()=>l("status"),className:"flex items-center hover:text-gray-700 dark:hover:text-gray-100",children:["Status",s.key==="status"&&(s.direction==="asc"?e.jsx(c,{className:"h-4 w-4 ml-1"}):e.jsx(x,{className:"h-4 w-4 ml-1"}))]})}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:e.jsxs("button",{onClick:()=>l("ultimoAcesso"),className:"flex items-center hover:text-gray-700 dark:hover:text-gray-100",children:["Último Acesso",s.key==="ultimoAcesso"&&(s.direction==="asc"?e.jsx(c,{className:"h-4 w-4 ml-1"}):e.jsx(x,{className:"h-4 w-4 ml-1"}))]})}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:e.jsxs("button",{onClick:()=>l("dataCriacao"),className:"flex items-center hover:text-gray-700 dark:hover:text-gray-100",children:["Data Criação",s.key==="dataCriacao"&&(s.direction==="asc"?e.jsx(c,{className:"h-4 w-4 ml-1"}):e.jsx(x,{className:"h-4 w-4 ml-1"}))]})}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Ações"})]})}),e.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:f.map(t=>e.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0 h-10 w-10",children:e.jsx("div",{className:"h-10 w-10 rounded-full bg-gray-300 dark:bg-gray-600 flex items-center justify-center",children:e.jsx(J,{className:"h-6 w-6 text-gray-600 dark:text-gray-400"})})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:t.nome}),e.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:t.email}),e.jsxs("div",{className:"text-xs text-gray-400 dark:text-gray-500 flex items-center mt-1",children:[e.jsx(P,{className:"h-3 w-3 mr-1"}),t.telefone]})]})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex flex-col space-y-1",children:[e.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${R(t.perfil)}`,children:[e.jsx(z,{className:"h-3 w-3 mr-1"}),t.perfil]}),e.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:[t.departamento," • ",t.cargo]})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${A(t.status)}`,children:[T.createElement(L(t.status),{className:"h-3 w-3 mr-1"}),t.status==="ativo"?"Ativo":t.status==="inativo"?"Inativo":"Pendente"]}),t.bloqueado&&e.jsx(b,{className:"h-4 w-4 text-red-500 ml-2",title:"Usuário bloqueado"})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:S(t.ultimoAcesso)}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:$(t.dataCriacao)}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:e.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[e.jsx(h,{to:`/usuarios/${t.id}`,className:"text-blue-600 dark:text-blue-400 hover:text-blue-900 dark:hover:text-blue-300",title:"Visualizar",children:e.jsx(B,{className:"h-4 w-4"})}),e.jsx(h,{to:`/usuarios/${t.id}/editar`,className:"text-green-600 dark:text-green-400 hover:text-green-900 dark:hover:text-green-300",title:"Editar",children:e.jsx(V,{className:"h-4 w-4"})}),e.jsx("button",{onClick:()=>E(t.id),className:`${t.status==="ativo"?"text-red-600 dark:text-red-400 hover:text-red-900 dark:hover:text-red-300":"text-green-600 dark:text-green-400 hover:text-green-900 dark:hover:text-green-300"}`,title:t.status==="ativo"?"Desativar":"Ativar",children:t.status==="ativo"?e.jsx(v,{className:"h-4 w-4"}):e.jsx(w,{className:"h-4 w-4"})}),e.jsx("button",{onClick:()=>D(t.id),className:"text-red-600 dark:text-red-400 hover:text-red-900 dark:hover:text-red-300",title:"Excluir",children:e.jsx(G,{className:"h-4 w-4"})})]})})]},t.id))})]})})})]})};export{ce as default};
