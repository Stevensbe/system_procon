import{j as e,h as u,i as g}from"./main-BZolao6g.js";import{a as N,u as b,r as d,L as l}from"./router-Cgdj9vyr.js";import"./vendor-Csw2ODfV.js";import"./icons-qiKTog5F.js";function y(){var t;const{id:a}=N(),m=b(),[s,x]=d.useState(null),[i,c]=d.useState(!0),[n,o]=d.useState("");d.useEffect(()=>{(async()=>{try{const r=await u(a);x(r)}catch(r){o(r.message||"Erro ao carregar detalhes.")}finally{c(!1)}})()},[a]);const h=async()=>{if(window.confirm(`Voc√™ tem certeza que deseja deletar o Auto de Supermercado No ${s.numero}? Esta a√ß√£o n√£o pode ser desfeita.`)){c(!0);try{await g(a),alert("Auto de Supermercado deletado com sucesso!"),m("/fiscalizacao/supermercados")}catch(r){o(r.message||"Falha ao deletar o auto."),c(!1)}}},p=`http://localhost:8000/api/supermercados/${a}/gerar-documento/`;return i?e.jsx("div",{className:"p-8",children:"Carregando..."}):n?e.jsx("div",{className:"p-8 text-red-500",children:n}):s?e.jsxs("div",{className:"p-8",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h1",{className:"text-3xl font-bold text-green-800",children:"Detalhes do Auto de Supermercado"}),e.jsxs("p",{className:"text-gray-600",children:["N√∫mero: ",s.numero]})]}),e.jsxs("div",{className:"bg-white p-6 rounded-lg shadow mb-6",children:[e.jsx("h2",{className:"text-xl font-semibold mb-4 text-green-700",children:"Informa√ß√µes do Auto"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"N√∫mero:"}),e.jsx("p",{children:s.numero})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"Raz√£o Social:"}),e.jsx("p",{children:s.razao_social})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"Nome Fantasia:"}),e.jsx("p",{children:s.nome_fantasia||"-"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"CNPJ:"}),e.jsx("p",{children:s.cnpj})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"Data da Fiscaliza√ß√£o:"}),e.jsx("p",{children:new Date(s.data_fiscalizacao+"T00:00:00").toLocaleDateString("pt-BR")})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"Hora da Fiscaliza√ß√£o:"}),e.jsx("p",{children:s.hora_fiscalizacao})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"Endere√ßo:"}),e.jsx("p",{children:s.endereco})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"Munic√≠pio/UF:"}),e.jsxs("p",{children:[s.municipio,"/",s.estado]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"Origem:"}),e.jsx("p",{className:"capitalize",children:(t=s.origem)==null?void 0:t.replace("_"," ")})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"Prazo de Cumprimento:"}),e.jsxs("p",{children:[s.prazo_cumprimento," dias"]})]})]})]}),e.jsxs("div",{className:"bg-white p-6 rounded-lg shadow mb-6",children:[e.jsx("h2",{className:"text-xl font-semibold mb-4 text-green-700",children:"Irregularidades de Produtos"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:`w-4 h-4 rounded mr-2 ${s.produtos_vencidos?"bg-red-500":"bg-gray-300"}`}),e.jsx("span",{children:"Produtos vencidos"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:`w-4 h-4 rounded mr-2 ${s.embalagem_violada?"bg-red-500":"bg-gray-300"}`}),e.jsx("span",{children:"Embalagem violada"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:`w-4 h-4 rounded mr-2 ${s.lata_amassada?"bg-red-500":"bg-gray-300"}`}),e.jsx("span",{children:"Lata amassada"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:`w-4 h-4 rounded mr-2 ${s.sem_validade?"bg-red-500":"bg-gray-300"}`}),e.jsx("span",{children:"Sem validade"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:`w-4 h-4 rounded mr-2 ${s.validade_ilegivel?"bg-red-500":"bg-gray-300"}`}),e.jsx("span",{children:"Validade ileg√≠vel"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:`w-4 h-4 rounded mr-2 ${s.mal_armazenados?"bg-red-500":"bg-gray-300"}`}),e.jsx("span",{children:"Mal armazenados"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:`w-4 h-4 rounded mr-2 ${s.produtos_descongelados?"bg-red-500":"bg-gray-300"}`}),e.jsx("span",{children:"Produtos descongelados"})]})]})]})]}),e.jsxs("div",{className:"bg-white p-6 rounded-lg shadow mb-6",children:[e.jsx("h2",{className:"text-xl font-semibold mb-4 text-green-700",children:"Irregularidades de Pre√ßos e Publicidade"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:`w-4 h-4 rounded mr-2 ${s.publicidade_enganosa?"bg-red-500":"bg-gray-300"}`}),e.jsx("span",{children:"Publicidade enganosa"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:`w-4 h-4 rounded mr-2 ${s.obstrucao_monitor?"bg-red-500":"bg-gray-300"}`}),e.jsx("span",{children:"Obstru√ß√£o do monitor"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:`w-4 h-4 rounded mr-2 ${s.precos_fora_padrao?"bg-red-500":"bg-gray-300"}`}),e.jsx("span",{children:"Pre√ßos fora do padr√£o"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:`w-4 h-4 rounded mr-2 ${s.ausencia_precos?"bg-red-500":"bg-gray-300"}`}),e.jsx("span",{children:"Aus√™ncia de pre√ßos"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:`w-4 h-4 rounded mr-2 ${s.fracionados_fora_padrao?"bg-red-500":"bg-gray-300"}`}),e.jsx("span",{children:"Fracionados fora do padr√£o"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:`w-4 h-4 rounded mr-2 ${s.ausencia_desconto_visibilidade?"bg-red-500":"bg-gray-300"}`}),e.jsx("span",{children:"Aus√™ncia de visibilidade de descontos"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:`w-4 h-4 rounded mr-2 ${s.ausencia_placas_promocao?"bg-red-500":"bg-gray-300"}`}),e.jsx("span",{children:"Aus√™ncia de placas de promo√ß√£o"})]})]})]})]}),e.jsxs("div",{className:"bg-white p-6 rounded-lg shadow mb-6",children:[e.jsx("h2",{className:"text-xl font-semibold mb-4 text-green-700",children:"Outras Informa√ß√µes"}),s.outras_irregularidades&&e.jsxs("div",{className:"mb-4",children:[e.jsx("p",{className:"font-medium",children:"Outras Irregularidades:"}),e.jsx("p",{className:"whitespace-pre-wrap",children:s.outras_irregularidades})]}),s.narrativa_fatos&&e.jsxs("div",{className:"mb-4",children:[e.jsx("p",{className:"font-medium",children:"Narrativa dos Fatos:"}),e.jsx("p",{className:"whitespace-pre-wrap",children:s.narrativa_fatos})]}),s.observacoes&&e.jsxs("div",{className:"mb-4",children:[e.jsx("p",{className:"font-medium",children:"Observa√ß√µes:"}),e.jsx("p",{className:"whitespace-pre-wrap",children:s.observacoes})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:`w-4 h-4 rounded mr-2 ${s.possui_anexo?"bg-green-500":"bg-gray-300"}`}),e.jsx("span",{children:"Possui anexo"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:`w-4 h-4 rounded mr-2 ${s.possui_auto_apreensao?"bg-green-500":"bg-gray-300"}`}),e.jsx("span",{children:"Possui auto de apreens√£o"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:`w-4 h-4 rounded mr-2 ${s.necessita_pericia?"bg-yellow-500":"bg-gray-300"}`}),e.jsx("span",{children:"Necessita per√≠cia"})]})]}),s.numero_auto_apreensao&&e.jsxs("div",{className:"mt-4",children:[e.jsx("p",{className:"font-medium",children:"N√∫mero do Auto de Apreens√£o:"}),e.jsx("p",{children:s.numero_auto_apreensao})]})]}),e.jsxs("div",{className:"bg-white p-6 rounded-lg shadow mb-6",children:[e.jsx("h2",{className:"text-xl font-semibold mb-4 text-green-700",children:"Respons√°veis"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium mb-2",children:"Autoridade Fiscalizadora"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium",children:"Fiscal 1:"}),e.jsx("p",{children:s.fiscal_nome_1}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Matr√≠cula: ",s.fiscal_matricula_1]})]}),s.fiscal_nome_2&&e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium",children:"Fiscal 2:"}),e.jsx("p",{children:s.fiscal_nome_2}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Matr√≠cula: ",s.fiscal_matricula_2]})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium mb-2",children:"Estabelecimento Fiscalizado"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium",children:"Respons√°vel:"}),e.jsx("p",{children:s.responsavel_nome}),e.jsxs("p",{className:"text-sm text-gray-600",children:["CPF: ",s.responsavel_cpf]})]})]})]})]}),e.jsxs("div",{className:"flex gap-4 mt-8 pt-4 border-t",children:[e.jsx(l,{to:"/fiscalizacao/supermercados",className:"px-4 py-2 bg-gray-600 text-white rounded hover:bg-gray-700",children:"‚Üê Voltar para a Lista"}),e.jsx(l,{to:`/fiscalizacao/supermercados/${a}/editar`,className:"px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700",children:"‚úèÔ∏è Editar"}),e.jsx("a",{href:p,target:"_blank",rel:"noopener noreferrer",className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:"üìÑ Gerar Documento (.docx)"}),e.jsx(l,{to:"/fiscalizacao/infracoes/novo",state:{autoConstatacao:s,tipoAuto:"supermercado"},className:"px-4 py-2 bg-red-700 text-white rounded hover:bg-red-800 font-bold",children:"‚öñÔ∏è Gerar Infra√ß√£o"}),e.jsx("button",{onClick:h,disabled:i,className:"px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700 disabled:bg-gray-400 ml-auto",children:i?"Deletando...":"Deletar"})]})]}):e.jsx("div",{className:"p-8",children:"Auto n√£o encontrado."})}export{y as default};
