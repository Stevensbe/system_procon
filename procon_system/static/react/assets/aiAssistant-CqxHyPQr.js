import{r as g}from"./router-Cgdj9vyr.js";function l({title:c,titleId:e,...a},t){return g.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":e},a),c?g.createElement("title",{id:e},c):null,g.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 18v-5.25m0 0a6.01 6.01 0 0 0 1.5-.189m-1.5.189a6.01 6.01 0 0 1-1.5-.189m3.75 7.478a12.06 12.06 0 0 1-4.5 0m3.75 2.383a14.406 14.406 0 0 1-3 0M14.25 18v-.192c0-.983.658-1.823 1.508-2.316a7.5 7.5 0 1 0-7.517 0c.85.493 1.509 1.333 1.509 2.316V18"}))}const h=g.forwardRef(l);class u{constructor(){this.isEnabled=!0,this.context=[],this.maxContextLength=10,this.suggestions=[],this.automationRules=[],this.learningData={},this.init()}init(){this.loadLearningData(),this.setupEventListeners(),this.initializeAutomationRules(),console.log("Sistema de IA inicializado")}setupEventListeners(){this.monitorUserNavigation(),this.monitorUsagePatterns(),this.monitorFormInteractions(),this.monitorErrors()}monitorUserNavigation(){let e=window.location.pathname;new MutationObserver(()=>{window.location.pathname!==e&&(this.recordNavigation(e,window.location.pathname),e=window.location.pathname)}).observe(document.body,{childList:!0,subtree:!0})}monitorUsagePatterns(){let e=Date.now();const a=()=>{const t=Date.now()-e;this.recordPageTime(window.location.pathname,t),e=Date.now()};window.addEventListener("beforeunload",a),document.addEventListener("click",t=>{var n;this.recordInteraction("click",{element:t.target.tagName,text:(n=t.target.textContent)==null?void 0:n.trim(),path:window.location.pathname})})}monitorFormInteractions(){document.addEventListener("input",e=>{(e.target.tagName==="INPUT"||e.target.tagName==="TEXTAREA"||e.target.tagName==="SELECT")&&this.recordFormInteraction(e.target)})}monitorErrors(){window.addEventListener("error",e=>{this.recordError(e.error)}),window.addEventListener("unhandledrejection",e=>{this.recordError(e.reason)})}recordNavigation(e,a){this.addToContext({type:"navigation",from:e,to:a,timestamp:Date.now()}),this.updateLearningData("navigation",{from:e,to:a})}recordPageTime(e,a){this.updateLearningData("pageTime",{path:e,timeSpent:a})}recordInteraction(e,a){this.addToContext({type:"interaction",interactionType:e,data:a,timestamp:Date.now()}),this.updateLearningData("interactions",{type:e,data:a})}recordFormInteraction(e){const a={field:e.name||e.id,type:e.type,value:e.value,path:window.location.pathname};this.updateLearningData("formInteractions",a)}recordError(e){this.addToContext({type:"error",error:e.message,stack:e.stack,timestamp:Date.now()}),this.updateLearningData("errors",{message:e.message,stack:e.stack})}addToContext(e){this.context.unshift(e),this.context.length>this.maxContextLength&&(this.context=this.context.slice(0,this.maxContextLength))}updateLearningData(e,a){this.learningData[e]||(this.learningData[e]=[]),this.learningData[e].push({...a,timestamp:Date.now()}),this.learningData[e].length>100&&(this.learningData[e]=this.learningData[e].slice(-100)),this.saveLearningData()}saveLearningData(){try{localStorage.setItem("ai_learning_data",JSON.stringify(this.learningData))}catch(e){console.error("Erro ao salvar dados de aprendizado:",e)}}loadLearningData(){try{const e=localStorage.getItem("ai_learning_data");e&&(this.learningData=JSON.parse(e))}catch(e){console.error("Erro ao carregar dados de aprendizado:",e)}}initializeAutomationRules(){this.automationRules=[{id:"form_validation",name:"Validação Inteligente de Formulários",description:"Sugere melhorias em formulários baseado no histórico",enabled:!0,trigger:"form_interaction",action:"suggest_improvements"},{id:"navigation_suggestions",name:"Sugestões de Navegação",description:"Sugere próximas páginas baseado no padrão de uso",enabled:!0,trigger:"navigation",action:"suggest_navigation"},{id:"error_prevention",name:"Prevenção de Erros",description:"Prevê e previne erros comuns",enabled:!0,trigger:"error",action:"prevent_errors"},{id:"performance_optimization",name:"Otimização de Performance",description:"Sugere otimizações baseado no uso",enabled:!0,trigger:"performance",action:"optimize_performance"}]}generateSuggestions(e=null){const a=e||this.context,t=[];a.slice(0,5);const n=this.analyzeUserPatterns(),r=this.analyzeCommonErrors();return this.isOnFormPage()&&t.push({type:"form_help",title:"Precisa de ajuda com o formulário?",description:"Posso sugerir preenchimentos automáticos baseado no histórico",action:"show_form_help",priority:"high"}),r.length>0&&t.push({type:"error_prevention",title:"Dica de Prevenção",description:`Evite erros comuns: ${r[0].message}`,action:"show_error_tips",priority:"medium"}),n.frequentPages.length>0&&t.push({type:"navigation",title:"Acesso Rápido",description:`Páginas mais acessadas: ${n.frequentPages.slice(0,3).join(", ")}`,action:"show_quick_access",priority:"low"}),n.slowPages.length>0&&t.push({type:"performance",title:"Otimização",description:"Algumas páginas podem ser otimizadas para carregamento mais rápido",action:"show_performance_tips",priority:"medium"}),this.suggestions=t,t}analyzeUserPatterns(){const e={frequentPages:[],slowPages:[],commonActions:[],timeOfDay:{}};if(this.learningData.navigation){const a={};this.learningData.navigation.forEach(t=>{a[t.to]=(a[t.to]||0)+1}),e.frequentPages=Object.entries(a).sort(([,t],[,n])=>n-t).slice(0,5).map(([t])=>t)}if(this.learningData.pageTime){const a={};this.learningData.pageTime.forEach(t=>{a[t.path]||(a[t.path]=[]),a[t.path].push(t.timeSpent)}),e.slowPages=Object.entries(a).map(([t,n])=>({page:t,avgTime:n.reduce((r,i)=>r+i,0)/n.length})).filter(t=>t.avgTime>5e3).sort((t,n)=>n.avgTime-t.avgTime).slice(0,3).map(t=>t.page)}return e}analyzeCommonErrors(){if(!this.learningData.errors)return[];const e={};return this.learningData.errors.forEach(a=>{const t=a.message;e[t]=(e[t]||0)+1}),Object.entries(e).map(([a,t])=>({message:a,count:t})).sort((a,t)=>t.count-a.count).slice(0,3)}isOnFormPage(){const e=window.location.pathname;return e.includes("form")||e.includes("create")||e.includes("edit")||document.querySelector("form")!==null}autoFillForm(e){const a=document.querySelector("form");return a?(Object.entries(e).forEach(([t,n])=>{const r=a.querySelector(`[name="${t}"], [id="${t}"]`);r&&(r.value=n,r.dispatchEvent(new Event("input",{bubbles:!0})))}),!0):!1}suggestFormFill(){if(!this.learningData.formInteractions)return{};const e={};return this.learningData.formInteractions.filter(t=>t.path===window.location.pathname).slice(-10).forEach(t=>{t.value&&t.value.length>0&&(e[t.field]=t.value)}),e}optimizePerformance(){const e=[];this.learningData.interactions&&this.learningData.interactions.filter(n=>n.data&&n.data.path&&n.data.path.includes("/api/")).length>50&&e.push({type:"cache",message:"Considere implementar cache para reduzir chamadas à API",priority:"high"});const a=this.analyzeUserPatterns();return a.slowPages.length>0&&e.push({type:"lazy_loading",message:`Páginas lentas detectadas: ${a.slowPages.join(", ")}`,priority:"medium"}),e}predictNextActions(){const e=[];if(this.analyzeUserPatterns(),this.learningData.navigation){const a=window.location.pathname,t=this.learningData.navigation.filter(i=>i.from===a).map(i=>i.to),n={};t.forEach(i=>{n[i]=(n[i]||0)+1}),Object.entries(n).sort(([,i],[,o])=>o-i).slice(0,3).forEach(([i,o])=>{e.push({type:"navigation",action:`Ir para ${i}`,confidence:o/t.length,data:{page:i}})})}return e}executeAutomation(e,a){const t=this.automationRules.find(n=>n.id===e);if(!t||!t.enabled)return!1;switch(t.action){case"suggest_improvements":return this.suggestFormImprovements(a);case"suggest_navigation":return this.suggestNavigation(a);case"prevent_errors":return this.preventErrors(a);case"optimize_performance":return this.optimizePerformance();default:return!1}}suggestFormImprovements(e){const a=[];return e.requiredFields&&a.push({type:"validation",message:"Adicione validação em tempo real para campos obrigatórios",priority:"high"}),this.learningData.errors&&this.learningData.errors.filter(n=>n.message.includes("form")||n.message.includes("validation")).length>5&&a.push({type:"user_experience",message:"Considere adicionar dicas de preenchimento",priority:"medium"}),a}suggestNavigation(e){return this.predictNextActions().filter(t=>t.type==="navigation")}preventErrors(e){const a=[];return this.analyzeCommonErrors().forEach(n=>{a.push({type:"prevention",message:`Para evitar: "${n.message}"`,suggestion:this.getErrorPreventionSuggestion(n.message)})}),a}getErrorPreventionSuggestion(e){const a={"Network Error":"Verifique sua conexão com a internet","Validation Error":"Preencha todos os campos obrigatórios","Permission Denied":"Verifique suas permissões de acesso",Timeout:"A requisição demorou muito, tente novamente"};for(const[t,n]of Object.entries(a))if(e.includes(t))return n;return"Verifique os dados inseridos e tente novamente"}getAIStats(){var e,a,t,n;return{totalInteractions:((e=this.learningData.interactions)==null?void 0:e.length)||0,totalErrors:((a=this.learningData.errors)==null?void 0:a.length)||0,totalFormInteractions:((t=this.learningData.formInteractions)==null?void 0:t.length)||0,totalNavigations:((n=this.learningData.navigation)==null?void 0:n.length)||0,suggestionsGenerated:this.suggestions.length,automationRules:this.automationRules.length,enabledRules:this.automationRules.filter(r=>r.enabled).length}}setEnabled(e){this.isEnabled=e,localStorage.setItem("ai_enabled",e)}clearLearningData(){this.learningData={},this.context=[],this.suggestions=[],localStorage.removeItem("ai_learning_data")}}const s=new u,p=()=>({generateSuggestions:o=>s.generateSuggestions(o),getPredictions:()=>s.predictNextActions(),autoFillForm:o=>s.autoFillForm(o),getFormSuggestions:()=>s.suggestFormFill(),getOptimizations:()=>s.optimizePerformance(),getStats:()=>s.getAIStats(),executeAutomation:(o,m)=>s.executeAutomation(o,m)});export{h as F,p as u};
