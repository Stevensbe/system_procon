import{j as e,L as T}from"./main-BZolao6g.js";import{r as t}from"./router-Cgdj9vyr.js";import{c as r}from"./cobrancaService-CCS4-JdV.js";import{K as i}from"./KPICard-BRR-UUXg.js";import{f as c,a as x}from"./formatters-Dm0PafFw.js";import{F as g}from"./PlusIcon-CPn5D4W5.js";import{F as h}from"./DocumentArrowDownIcon-CaS0chxy.js";import{F as D}from"./CurrencyDollarIcon-BYymgR5k.js";import{F as L}from"./ExclamationTriangleIcon-2kHM3Vz3.js";import{F as p}from"./CheckCircleIcon-DFajsejV.js";import{F as q}from"./EyeIcon-xG4b5U4j.js";import{F as G}from"./BanknotesIcon-BnoJ0wA7.js";import{F as H}from"./ScaleIcon-CDQgDKJ-.js";import"./vendor-Csw2ODfV.js";import"./icons-qiKTog5F.js";function K({title:o,titleId:n,...a},m){return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:m,"aria-labelledby":n},a),o?t.createElement("title",{id:n},o):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 8.25h19.5M2.25 9h19.5m-16.5 5.25h6m-6 2.25h3m-3.75 3h15a2.25 2.25 0 0 0 2.25-2.25V6.75A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25v10.5A2.25 2.25 0 0 0 4.5 19.5Z"}))}const z=t.forwardRef(K),ne=()=>{const[o,n]=t.useState(!0),[a,m]=t.useState({}),[u,j]=t.useState([]),[y,f]=t.useState([]),[N,b]=t.useState([]),[v,w]=t.useState([]),[R,P]=t.useState([]),[S,B]=t.useState([]),[I,F]=t.useState([]);t.useEffect(()=>{$()},[]);const $=async()=>{try{n(!0);const[s,d,V,k,E,C,A,M]=await Promise.all([r.getEstatisticas(),r.getBoletosRecentes(),r.getPagamentosRecentes(),r.getRemessasRecentes(),r.getBoletosVencidos(),r.getBoletosPorStatus(),r.getPagamentosPorMes(),r.getRemessasPorStatus()]);m(s),j(d),f(V),b(k),w(E),P(C),B(A),F(M)}catch(s){console.error("Erro ao carregar dados do dashboard:",s)}finally{n(!1)}},l=s=>{switch(s==null?void 0:s.toLowerCase()){case"pago":return"text-green-600 bg-green-100";case"vencido":return"text-red-600 bg-red-100";case"pendente":return"text-yellow-600 bg-yellow-100";case"cancelado":return"text-gray-600 bg-gray-100";case"processado":return"text-blue-600 bg-blue-100";case"erro":return"text-red-600 bg-red-100";default:return"text-gray-600 bg-gray-100"}};return o?e.jsx(T,{}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Dashboard de Cobrança"}),e.jsx("p",{className:"text-gray-600",children:"Gestão avançada de boletos, pagamentos e remessas"})]}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsxs("button",{className:"btn-primary",children:[e.jsx(g,{className:"w-4 h-4 mr-2"}),"Novo Boleto"]}),e.jsxs("button",{className:"btn-secondary",children:[e.jsx(h,{className:"w-4 h-4 mr-2"}),"Gerar Remessa"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsx(i,{title:"Total em Aberto",value:c(a.totalEmAberto||0),icon:D,color:"blue",change:a.variacaoEmAberto||0,changeType:"percentage",description:"Valor total de boletos pendentes"}),e.jsx(i,{title:"Recebido Hoje",value:c(a.recebidoHoje||0),icon:z,color:"green",change:a.variacaoRecebido||0,changeType:"percentage",description:"Pagamentos processados hoje"}),e.jsx(i,{title:"Boletos Vencidos",value:a.boletosVencidos||0,icon:L,color:"red",change:a.variacaoVencidos||0,changeType:"number",description:"Boletos com prazo expirado"}),e.jsx(i,{title:"Taxa de Pagamento",value:`${a.taxaPagamento||0}%`,icon:p,color:"green",change:a.variacaoTaxa||0,changeType:"percentage",description:"Percentual de boletos pagos"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Boletos por Status"}),e.jsx("div",{className:"space-y-3",children:R.map((s,d)=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:`w-3 h-3 rounded-full ${l(s.status).split(" ")[1]}`}),e.jsx("span",{className:"text-sm font-medium text-gray-700",children:s.status})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-sm text-gray-600",children:s.quantidade}),e.jsxs("span",{className:"text-sm text-gray-500",children:["(",s.percentual,"%)"]})]})]},d))})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Pagamentos por Mês"}),e.jsx("div",{className:"space-y-3",children:S.map((s,d)=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:s.mes}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-sm text-gray-600",children:c(s.valor)}),e.jsxs("span",{className:"text-sm text-gray-500",children:["(",s.quantidade," pagamentos)"]})]})]},d))})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow",children:[e.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Boletos Vencidos"})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Boleto"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Devedor"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Valor"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Vencimento"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Dias Vencido"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Ações"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:v.slice(0,5).map(s=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:s.numero}),e.jsx("div",{className:"text-sm text-gray-500",children:s.tipo})]}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[e.jsx("div",{className:"text-sm text-gray-900",children:s.devedor}),e.jsx("div",{className:"text-sm text-gray-500",children:s.documento})]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:c(s.valor)}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:x(s.vencimento)}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800",children:[s.diasVencido," dias"]})}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:[e.jsx("button",{className:"text-indigo-600 hover:text-indigo-900 mr-3",children:e.jsx(q,{className:"w-4 h-4"})}),e.jsx("button",{className:"text-green-600 hover:text-green-900",children:e.jsx(p,{className:"w-4 h-4"})})]})]},s.id))})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow",children:[e.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Boletos Recentes"})}),e.jsx("div",{className:"p-6 space-y-4",children:u.slice(0,5).map(s=>e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:`w-2 h-2 rounded-full ${l(s.status).split(" ")[1]}`}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:s.numero}),e.jsxs("p",{className:"text-sm text-gray-500",children:[s.devedor," • ",c(s.valor)]})]}),e.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${l(s.status)}`,children:s.status})]},s.id))})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow",children:[e.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Pagamentos Recentes"})}),e.jsx("div",{className:"p-6 space-y-4",children:y.slice(0,5).map(s=>e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-green-400"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:s.numeroBoleto}),e.jsxs("p",{className:"text-sm text-gray-500",children:[s.formaPagamento," • ",c(s.valor)]})]}),e.jsx("span",{className:"text-sm text-gray-500",children:x(s.dataPagamento)})]},s.id))})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow",children:[e.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Remessas Recentes"})}),e.jsx("div",{className:"p-6 space-y-4",children:N.slice(0,5).map(s=>e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:`w-2 h-2 rounded-full ${l(s.status).split(" ")[1]}`}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:s.numero}),e.jsxs("p",{className:"text-sm text-gray-500",children:[s.banco," • ",s.quantidadeBoletos," boletos"]})]}),e.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${l(s.status)}`,children:s.status})]},s.id))})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Ações Rápidas"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs("button",{className:"flex items-center justify-center p-4 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:[e.jsx(g,{className:"w-6 h-6 text-gray-600 mr-3"}),e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Novo Boleto"})]}),e.jsxs("button",{className:"flex items-center justify-center p-4 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:[e.jsx(h,{className:"w-6 h-6 text-gray-600 mr-3"}),e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Gerar Remessa"})]}),e.jsxs("button",{className:"flex items-center justify-center p-4 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:[e.jsx(G,{className:"w-6 h-6 text-gray-600 mr-3"}),e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Processar Pagamentos"})]}),e.jsxs("button",{className:"flex items-center justify-center p-4 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:[e.jsx(H,{className:"w-6 h-6 text-gray-600 mr-3"}),e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Relatórios"})]})]})]})]})};export{ne as default};
