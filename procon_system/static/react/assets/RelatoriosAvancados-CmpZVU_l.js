import{j as s}from"./main-QkSqPps8.js";import{r}from"./router-C15yhWin.js";import{j as w}from"./juridicoService-64TRSV1W.js";import{L as k}from"./LoadingSpinner-CioJYzaJ.js";import{N as _}from"./NotificationContainer-Bqi_YeSK.js";import{u as A}from"./useNotification-Bm6NCblX.js";import{F as n}from"./DocumentTextIcon-o9njoXYt.js";import{F as R}from"./ClockIcon-CbdR_WDb.js";import{F}from"./CheckCircleIcon-B-MrGrlS.js";import{F as C}from"./ExclamationTriangleIcon-Y0luX6t1.js";import{F as D}from"./ArrowTrendingUpIcon-CBNpApIg.js";import{R as m,B as E,C as P,X as S,Y as M,T as x,L as B,d as g,P as T,b as L,c as $}from"./charts-BhhE3E4a.js";import"./vendor-Csw2ODfV.js";import"./icons-C8WIGuh4.js";import"./XMarkIcon-C8R2LFm1.js";import"./InformationCircleIcon-o8enZ7c_.js";import"./XCircleIcon-BTR4Rsg8.js";const as=()=>{const[a,d]=r.useState(null),[h,i]=r.useState(!0),[o,p]=r.useState({periodo:"30",analista:"",tipo_processo:"",status:""}),{notifications:u,addNotification:j,removeNotification:b}=A(),c=["#0088FE","#00C49F","#FFBB28","#FF8042","#8884D8","#82CA9D"];r.useEffect(()=>{y()},[o]);const y=async()=>{try{i(!0);const e=await w.getRelatorioAvancado(o);d(e.data)}catch(e){console.error("Erro ao carregar relatório:",e),d({resumo_geral:{total_processos:45,processos_abertos:12,processos_concluidos:28,processos_atrasados:5,valor_total_causas:125e3},processos_por_mes:[{mes:"Jan",total:8,abertos:3,concluidos:5},{mes:"Fev",total:12,abertos:4,concluidos:8},{mes:"Mar",total:15,abertos:5,concluidos:10},{mes:"Abr",total:10,abertos:0,concluidos:5}],processos_por_analista:[{analista:"Dr. Silva",total:15,concluidos:12,pendentes:3},{analista:"Dra. Santos",total:12,concluidos:8,pendentes:4},{analista:"Dr. Oliveira",total:10,concluidos:6,pendentes:4},{analista:"Dra. Costa",total:8,concluidos:2,pendentes:6}],processos_por_status:[{status:"ABERTO",total:12},{status:"EM_ANALISE",total:8},{status:"RESPONDIDO",total:15},{status:"ARQUIVADO",total:10}],processos_por_prioridade:[{prioridade:"URGENTE",total:5},{prioridade:"ALTA",total:12},{prioridade:"MEDIA",total:18},{prioridade:"BAIXA",total:10}],tempo_medio_resolucao:25,taxa_conclusao:62.2,analistas_mais_ativos:[{nome:"Dr. Silva",processos:15,media_dias:22},{nome:"Dra. Santos",processos:12,media_dias:28},{nome:"Dr. Oliveira",processos:10,media_dias:30}],tipos_mais_comuns:[{tipo:"Direito do Consumidor",total:25},{tipo:"Direito Administrativo",total:12},{tipo:"Direito Civil",total:8}]}),j("Usando dados de exemplo - API não disponível","warning")}finally{i(!1)}},N=e=>{const{name:t,value:l}=e.target;p(v=>({...v,[t]:l}))},f=e=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(e);return h?s.jsx(k,{}):a?s.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[s.jsx(_,{notifications:u,onRemove:b}),s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[s.jsx("div",{className:"mb-8",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Relatórios Avançados"}),s.jsx("p",{className:"mt-2 text-gray-600 dark:text-gray-400",children:"Estatísticas detalhadas do módulo jurídico"})]}),s.jsxs("div",{className:"flex space-x-4",children:[s.jsxs("select",{name:"periodo",value:o.periodo,onChange:N,className:"px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white",children:[s.jsx("option",{value:"7",children:"Últimos 7 dias"}),s.jsx("option",{value:"30",children:"Últimos 30 dias"}),s.jsx("option",{value:"90",children:"Últimos 90 dias"}),s.jsx("option",{value:"365",children:"Último ano"})]}),s.jsxs("button",{onClick:()=>window.print(),className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg flex items-center",children:[s.jsx(n,{className:"h-5 w-5 mr-2"}),"Exportar"]})]})]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-6 mb-8",children:[s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"p-2 bg-blue-100 dark:bg-blue-900 rounded-lg",children:s.jsx(n,{className:"h-6 w-6 text-blue-600 dark:text-blue-400"})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Total de Processos"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:a.resumo_geral.total_processos})]})]})}),s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"p-2 bg-yellow-100 dark:bg-yellow-900 rounded-lg",children:s.jsx(R,{className:"h-6 w-6 text-yellow-600 dark:text-yellow-400"})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Processos Abertos"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:a.resumo_geral.processos_abertos})]})]})}),s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"p-2 bg-green-100 dark:bg-green-900 rounded-lg",children:s.jsx(F,{className:"h-6 w-6 text-green-600 dark:text-green-400"})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Processos Concluídos"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:a.resumo_geral.processos_concluidos})]})]})}),s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"p-2 bg-red-100 dark:bg-red-900 rounded-lg",children:s.jsx(C,{className:"h-6 w-6 text-red-600 dark:text-red-400"})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Processos Atrasados"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:a.resumo_geral.processos_atrasados})]})]})}),s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"p-2 bg-purple-100 dark:bg-purple-900 rounded-lg",children:s.jsx(D,{className:"h-6 w-6 text-purple-600 dark:text-purple-400"})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Valor Total"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:f(a.resumo_geral.valor_total_causas)})]})]})})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8",children:[s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Processos por Mês"}),s.jsx(m,{width:"100%",height:300,children:s.jsxs(E,{data:a.processos_por_mes,children:[s.jsx(P,{strokeDasharray:"3 3"}),s.jsx(S,{dataKey:"mes"}),s.jsx(M,{}),s.jsx(x,{}),s.jsx(B,{}),s.jsx(g,{dataKey:"total",fill:"#3B82F6",name:"Total"}),s.jsx(g,{dataKey:"concluidos",fill:"#10B981",name:"Concluídos"})]})})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Processos por Status"}),s.jsx(m,{width:"100%",height:300,children:s.jsxs(T,{children:[s.jsx(L,{data:a.processos_por_status,cx:"50%",cy:"50%",labelLine:!1,label:({status:e,total:t})=>`${e}: ${t}`,outerRadius:80,fill:"#8884d8",dataKey:"total",children:a.processos_por_status.map((e,t)=>s.jsx($,{fill:c[t%c.length]},`cell-${t}`))}),s.jsx(x,{})]})})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8",children:[s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Analistas Mais Ativos"}),s.jsx("div",{className:"space-y-4",children:a.analistas_mais_ativos.map((e,t)=>s.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:e.nome}),s.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[e.processos," processos • Média: ",e.media_dias," dias"]})]}),s.jsx("div",{className:"text-right",children:s.jsx("div",{className:"w-16 h-2 bg-gray-200 dark:bg-gray-600 rounded-full overflow-hidden",children:s.jsx("div",{className:"h-full bg-blue-600 rounded-full",style:{width:`${e.processos/Math.max(...a.analistas_mais_ativos.map(l=>l.processos))*100}%`}})})})]},t))})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Métricas de Performance"}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between items-center mb-2",children:[s.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Tempo Médio de Resolução"}),s.jsxs("span",{className:"text-sm font-bold text-gray-900 dark:text-white",children:[a.tempo_medio_resolucao," dias"]})]}),s.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-600 rounded-full h-2",children:s.jsx("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:`${Math.min(a.tempo_medio_resolucao/60*100,100)}%`}})})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between items-center mb-2",children:[s.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Taxa de Conclusão"}),s.jsxs("span",{className:"text-sm font-bold text-gray-900 dark:text-white",children:[a.taxa_conclusao,"%"]})]}),s.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-600 rounded-full h-2",children:s.jsx("div",{className:"bg-green-600 h-2 rounded-full",style:{width:`${a.taxa_conclusao}%`}})})]}),s.jsxs("div",{children:[s.jsx("div",{className:"flex justify-between items-center mb-2",children:s.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Processos por Prioridade"})}),s.jsx("div",{className:"space-y-2",children:a.processos_por_prioridade.map((e,t)=>s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:e.prioridade}),s.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:e.total})]},t))})]})]})]})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Tipos de Processo Mais Comuns"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:a.tipos_mais_comuns.map((e,t)=>s.jsxs("div",{className:"text-center p-4 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[s.jsx("div",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400 mb-2",children:e.total}),s.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:e.tipo})]},t))})]})]})]}):s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Erro ao carregar relatório"})})};export{as as default};
