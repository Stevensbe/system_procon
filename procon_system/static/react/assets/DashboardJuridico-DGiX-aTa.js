import{j as e}from"./main-QkSqPps8.js";import{r as d}from"./router-C15yhWin.js";import{j as x}from"./juridicoService-64TRSV1W.js";import{L as f}from"./LoadingSpinner-CioJYzaJ.js";import{N as w}from"./NotificationContainer-Bqi_YeSK.js";import{u as v}from"./useNotification-Bm6NCblX.js";import{F as k}from"./DocumentTextIcon-o9njoXYt.js";import{F as _}from"./ClockIcon-CbdR_WDb.js";import{F as D}from"./ExclamationTriangleIcon-Y0luX6t1.js";import{F}from"./CalendarIcon-BxLx5Sh6.js";import{R as n,B as P,C as R,X as E,Y as A,T as m,L as C,d as S,P as L,b as B,c as O}from"./charts-BhhE3E4a.js";import"./vendor-Csw2ODfV.js";import"./icons-C8WIGuh4.js";import"./XMarkIcon-C8R2LFm1.js";import"./InformationCircleIcon-o8enZ7c_.js";import"./XCircleIcon-BTR4Rsg8.js";import"./CheckCircleIcon-B-MrGrlS.js";const ee=()=>{const[t,i]=d.useState(null),[g,l]=d.useState(!0),[r,h]=d.useState(null),{notifications:p,addNotification:j,removeNotification:y}=v(),o=["#0088FE","#00C49F","#FFBB28","#FF8042","#8884D8"];d.useEffect(()=>{b(),N()},[]);const b=async()=>{try{l(!0);const s=await x.getDashboardData();i(s.data)}catch(s){console.error("Erro ao carregar dashboard:",s),i({total_processos:0,processos_abertos:0,processos_atrasados:0,prazos_vencendo:0,processos_por_status:{},processos_por_prioridade:{},processos_recentes:[],prazos_urgentes:[]}),j("Usando dados padrão - API não disponível","warning")}finally{l(!1)}},N=async()=>{try{const s=await x.getEstatisticas();h(s.data)}catch(s){console.error("Erro ao carregar estatísticas:",s)}};if(g)return e.jsx(f,{});if(!t)return e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Carregando dashboard..."})});const u=Object.entries(t.processos_por_status).map(([s,a])=>({name:s,total:a})),c=Object.entries(t.processos_por_prioridade).map(([s,a])=>({name:s,total:a}));return e.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[e.jsx(w,{notifications:p,onRemove:y}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Dashboard Jurídico"}),e.jsx("p",{className:"mt-2 text-gray-600 dark:text-gray-400",children:"Visão geral dos processos jurídicos e prazos"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-2 bg-blue-100 dark:bg-blue-900 rounded-lg",children:e.jsx(k,{className:"h-6 w-6 text-blue-600 dark:text-blue-400"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Total de Processos"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:t.total_processos})]})]})}),e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-2 bg-yellow-100 dark:bg-yellow-900 rounded-lg",children:e.jsx(_,{className:"h-6 w-6 text-yellow-600 dark:text-yellow-400"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Processos Abertos"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:t.processos_abertos})]})]})}),e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-2 bg-red-100 dark:bg-red-900 rounded-lg",children:e.jsx(D,{className:"h-6 w-6 text-red-600 dark:text-red-400"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Processos Atrasados"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:t.processos_atrasados})]})]})}),e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-2 bg-orange-100 dark:bg-orange-900 rounded-lg",children:e.jsx(F,{className:"h-6 w-6 text-orange-600 dark:text-orange-400"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Prazos Vencendo"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:t.prazos_vencendo})]})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8",children:[e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Processos por Status"}),e.jsx(n,{width:"100%",height:300,children:e.jsxs(P,{data:u,children:[e.jsx(R,{strokeDasharray:"3 3"}),e.jsx(E,{dataKey:"name"}),e.jsx(A,{}),e.jsx(m,{}),e.jsx(C,{}),e.jsx(S,{dataKey:"total",fill:"#3B82F6"})]})})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Processos por Prioridade"}),e.jsx(n,{width:"100%",height:300,children:e.jsxs(L,{children:[e.jsx(B,{data:c,cx:"50%",cy:"50%",labelLine:!1,label:({name:s,percent:a})=>`${s} ${(a*100).toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"total",children:c.map((s,a)=>e.jsx(O,{fill:o[a%o.length]},`cell-${a}`))}),e.jsx(m,{})]})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow",children:[e.jsx("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700",children:e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Processos Recentes"})}),e.jsx("div",{className:"p-6",children:t.processos_recentes.length>0?e.jsx("div",{className:"space-y-4",children:t.processos_recentes.map(s=>e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:s.numero}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:s.parte}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-500",children:new Date(s.data_abertura).toLocaleDateString("pt-BR")})]}),e.jsx("div",{className:"text-right",children:e.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${s.status==="ABERTO"?"bg-yellow-100 text-yellow-800":s.status==="EM_ANALISE"?"bg-blue-100 text-blue-800":s.status==="RESPONDIDO"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:s.status})})]},s.id))}):e.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-center py-4",children:"Nenhum processo recente"})})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow",children:[e.jsx("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700",children:e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Prazos Urgentes"})}),e.jsx("div",{className:"p-6",children:t.prazos_urgentes.length>0?e.jsx("div",{className:"space-y-4",children:t.prazos_urgentes.map(s=>e.jsxs("div",{className:"flex items-center justify-between p-4 bg-red-50 dark:bg-red-900/20 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:s.processo.numero}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:s.descricao}),e.jsxs("p",{className:"text-xs text-red-600 dark:text-red-400",children:["Vence em ",s.dias_restantes," dias"]})]}),e.jsx("div",{className:"text-right",children:e.jsx("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full bg-red-100 text-red-800",children:s.tipo_prazo})})]},s.id))}):e.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-center py-4",children:"Nenhum prazo urgente"})})]})]}),r&&e.jsxs("div",{className:"mt-8 bg-white dark:bg-gray-800 rounded-lg shadow",children:[e.jsx("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700",children:e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:["Estatísticas Detalhadas - ",r.periodo]})}),e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900 dark:text-white mb-2",children:"Analistas Mais Ativos"}),e.jsx("div",{className:"space-y-2",children:r.analistas_mais_ativos.map((s,a)=>e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:s.nome}),e.jsxs("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:[s.total," processos"]})]},a))})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900 dark:text-white mb-2",children:"Tipos de Análise Mais Comuns"}),e.jsx("div",{className:"space-y-2",children:r.tipos_mais_comuns.map((s,a)=>e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:s.tipo_analise}),e.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:s.total})]},a))})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900 dark:text-white mb-2",children:"Resumo do Período"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total de Processos"}),e.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:r.total_processos})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Média por Mês"}),e.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:(r.total_processos/12).toFixed(1)})]})]})]})]})})]})]})]})};export{ee as default};
