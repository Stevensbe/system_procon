import{j as e}from"./main-DVdFXPbZ.js";import{r,L as m}from"./router-C15yhWin.js";import{a as i}from"./analiseJuridicaService-BPat54nd.js";import{n as g}from"./index-CsOmCsbp.js";import{F as $}from"./ArrowPathIcon-DvGuXmm8.js";import{F as P}from"./PlusIcon-DZYmRjce.js";import{F as D}from"./DocumentTextIcon-o9njoXYt.js";import{F as O}from"./ClockIcon-CbdR_WDb.js";import{F as I}from"./CheckCircleIcon-B-MrGrlS.js";import{F as h}from"./UserIcon-Crv8uqGG.js";import{R as j,P as M,b as B,c as U,T as f,B as G,C as J,X as K,Y as z,d as X}from"./charts-BhhE3E4a.js";import{F as Y}from"./FunnelIcon-PU3yDtaQ.js";import{F as q}from"./AcademicCapIcon-CSwL-0TY.js";import{F as N}from"./EyeIcon-Cu0Wnbis.js";import{F as H}from"./ScaleIcon-D3m58Xco.js";import"./vendor-Csw2ODfV.js";import"./icons-C8WIGuh4.js";const he=()=>{const[c,y]=r.useState({total_analises:0,analises_pendentes:0,analises_concluidas:0,analises_hoje:0,analises_semana:0,analises_mes:0,tempo_medio_analise:0,analistas_ativos:0}),[w,p]=r.useState([]),[b,v]=r.useState([]),[u,A]=r.useState([]),[C,E]=r.useState([]),[R,n]=r.useState(!0),[t,l]=r.useState({tipo:"",status:"",analista:"",data_inicio:"",data_fim:""});r.useEffect(()=>{x()},[]);const x=async()=>{try{n(!0);const s=await i.obterEstatisticas();y(s);const a=await i.obterAnalisesRecentes();p(a);const d=await i.obterAnalistasTop();v(d);const o=await i.obterAnalisesPorTipo();A(o);const L=await i.obterAnalisesPorStatus();E(L)}catch(s){console.error("Erro ao carregar dados de análise jurídica:",s),g.error("Erro ao carregar dados de análise jurídica")}finally{n(!1)}},_=async()=>{try{n(!0);const s=await i.filtrarAnalises(t);p(s)}catch(s){console.error("Erro ao aplicar filtros:",s),g.error("Erro ao aplicar filtros")}finally{n(!1)}},S=()=>{l({tipo:"",status:"",analista:"",data_inicio:"",data_fim:""}),x()},k=s=>{switch(s){case"CONTRATO":return"#3b82f6";case"PROCESSO":return"#059669";case"PARECER":return"#d97706";case"RECURSO":return"#7c3aed";case"LEGISLACAO":return"#dc2626";default:return"#6b7280"}},F=s=>new Date(s).toLocaleString("pt-BR"),T=s=>{if(!s)return"N/A";const a=Math.floor(s/60),d=s%60;return a>0?`${a}h ${d}min`:`${d}min`};return R?e.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})})}):e.jsxs("div",{className:"min-h-screen bg-gray-50 p-6",children:[e.jsx("div",{className:"mb-8",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Análise Jurídica"}),e.jsx("p",{className:"text-gray-600 mt-2",children:"Sistema de análise jurídica avançada"})]}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsxs("button",{onClick:x,className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50",children:[e.jsx($,{className:"h-4 w-4 mr-2"}),"Atualizar"]}),e.jsxs(m,{to:"/analise-juridica/nova",className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700",children:[e.jsx(P,{className:"h-4 w-4 mr-2"}),"Nova Análise"]})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[e.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:e.jsx("div",{className:"p-5",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(D,{className:"h-6 w-6 text-blue-400"})}),e.jsx("div",{className:"ml-5 w-0 flex-1",children:e.jsxs("dl",{children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Total de Análises"}),e.jsx("dd",{className:"text-lg font-medium text-gray-900",children:c.total_analises.toLocaleString()})]})})]})})}),e.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:e.jsx("div",{className:"p-5",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(O,{className:"h-6 w-6 text-yellow-400"})}),e.jsx("div",{className:"ml-5 w-0 flex-1",children:e.jsxs("dl",{children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Pendentes"}),e.jsx("dd",{className:"text-lg font-medium text-gray-900",children:c.analises_pendentes.toLocaleString()})]})})]})})}),e.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:e.jsx("div",{className:"p-5",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(I,{className:"h-6 w-6 text-green-400"})}),e.jsx("div",{className:"ml-5 w-0 flex-1",children:e.jsxs("dl",{children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Concluídas"}),e.jsx("dd",{className:"text-lg font-medium text-gray-900",children:c.analises_concluidas.toLocaleString()})]})})]})})}),e.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:e.jsx("div",{className:"p-5",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(h,{className:"h-6 w-6 text-purple-400"})}),e.jsx("div",{className:"ml-5 w-0 flex-1",children:e.jsxs("dl",{children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Analistas Ativos"}),e.jsx("dd",{className:"text-lg font-medium text-gray-900",children:c.analistas_ativos.toLocaleString()})]})})]})})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[e.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Análises por Tipo"}),e.jsx(j,{width:"100%",height:300,children:e.jsxs(M,{children:[e.jsx(B,{data:u,cx:"50%",cy:"50%",labelLine:!1,label:({name:s,percent:a})=>`${s} ${(a*100).toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"count",children:u.map((s,a)=>e.jsx(U,{fill:k(s.tipo)},`cell-${a}`))}),e.jsx(f,{})]})})]}),e.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Análises por Status"}),e.jsx(j,{width:"100%",height:300,children:e.jsxs(G,{data:C,children:[e.jsx(J,{strokeDasharray:"3 3"}),e.jsx(K,{dataKey:"status"}),e.jsx(z,{}),e.jsx(f,{}),e.jsx(X,{dataKey:"count",fill:"#3b82f6"})]})})]})]}),e.jsxs("div",{className:"bg-white p-6 rounded-lg shadow mb-8",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Filtros Avançados"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tipo de Análise"}),e.jsxs("select",{value:t.tipo,onChange:s=>l({...t,tipo:s.target.value}),className:"w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500",children:[e.jsx("option",{value:"",children:"Todos"}),e.jsx("option",{value:"CONTRATO",children:"Contrato"}),e.jsx("option",{value:"PROCESSO",children:"Processo"}),e.jsx("option",{value:"PARECER",children:"Parecer"}),e.jsx("option",{value:"RECURSO",children:"Recurso"}),e.jsx("option",{value:"LEGISLACAO",children:"Legislação"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),e.jsxs("select",{value:t.status,onChange:s=>l({...t,status:s.target.value}),className:"w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500",children:[e.jsx("option",{value:"",children:"Todos"}),e.jsx("option",{value:"PENDENTE",children:"Pendente"}),e.jsx("option",{value:"EM_ANALISE",children:"Em Análise"}),e.jsx("option",{value:"CONCLUIDA",children:"Concluída"}),e.jsx("option",{value:"CANCELADA",children:"Cancelada"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Analista"}),e.jsx("input",{type:"text",value:t.analista,onChange:s=>l({...t,analista:s.target.value}),placeholder:"Nome do analista",className:"w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Data Início"}),e.jsx("input",{type:"date",value:t.data_inicio,onChange:s=>l({...t,data_inicio:s.target.value}),className:"w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Data Fim"}),e.jsx("input",{type:"date",value:t.data_fim,onChange:s=>l({...t,data_fim:s.target.value}),className:"w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500"})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3 mt-4",children:[e.jsx("button",{onClick:S,className:"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 bg-white hover:bg-gray-50",children:"Limpar Filtros"}),e.jsxs("button",{onClick:_,className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700",children:[e.jsx(Y,{className:"h-4 w-4 mr-2"}),"Aplicar Filtros"]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow mb-8",children:[e.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Top Analistas"})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Ranking"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Analista"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Especialidade"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Análises"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tempo Médio"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Avaliação"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Ações"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:b.map((s,a)=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"flex items-center",children:e.jsx("span",{className:`inline-flex items-center justify-center w-8 h-8 rounded-full text-sm font-medium ${a===0?"bg-yellow-100 text-yellow-800":a===1?"bg-gray-100 text-gray-800":a===2?"bg-orange-100 text-orange-800":"bg-blue-100 text-blue-800"}`,children:a+1})})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(h,{className:"h-5 w-5 text-gray-400 mr-3"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:s.nome}),e.jsx("div",{className:"text-sm text-gray-500",children:s.email})]})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(q,{className:"h-4 w-4 text-gray-400 mr-2"}),e.jsx("span",{className:"text-sm text-gray-900",children:s.especialidade})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:s.total_analises}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:T(s.tempo_medio)}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex items-center",children:[...Array(5)].map((d,o)=>e.jsx("svg",{className:`h-4 w-4 ${o<s.avaliacao?"text-yellow-400":"text-gray-300"}`,fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},o))}),e.jsxs("span",{className:"ml-2 text-sm text-gray-500",children:["(",s.avaliacao,"/5)"]})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:e.jsx(m,{to:`/analise-juridica/analista/${s.id}`,className:"text-blue-600 hover:text-blue-900",children:e.jsx(N,{className:"h-4 w-4"})})})]},s.id))})]})})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow",children:[e.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Análises Recentes"})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tipo"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Título"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Analista"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Prioridade"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Data Criação"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Ações"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:w.map(s=>{var a;return e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(H,{className:"h-5 w-5 text-gray-400 mr-2"}),e.jsx("span",{className:"text-sm font-medium text-gray-900",children:s.get_tipo_display})]})}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[e.jsx("div",{className:"text-sm text-gray-900",children:s.titulo}),e.jsx("div",{className:"text-sm text-gray-500",children:s.descricao})]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(h,{className:"h-4 w-4 text-gray-400 mr-2"}),e.jsx("span",{className:"text-sm text-gray-900",children:((a=s.analista)==null?void 0:a.nome)||"Não atribuído"})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${s.status==="PENDENTE"?"bg-yellow-100 text-yellow-800":s.status==="EM_ANALISE"?"bg-blue-100 text-blue-800":s.status==="CONCLUIDA"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:s.get_status_display})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${s.prioridade==="ALTA"?"bg-red-100 text-red-800":s.prioridade==="MEDIA"?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"}`,children:s.get_prioridade_display})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:F(s.data_criacao)}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:e.jsx(m,{to:`/analise-juridica/${s.id}`,className:"text-blue-600 hover:text-blue-900 mr-3",children:e.jsx(N,{className:"h-4 w-4"})})})]},s.id)})})]})})]})]})};export{he as default};
